{"ast":null,"code":"import React from'react';import{Link}from'react-router-dom';import{useAuth}from'../../context/AuthContext';import{useLanguage}from'../../context/LanguageContext';import LanguageSwitcher from'../Common/LanguageSwitcher';import{isSystemAdmin,isPlatformManager}from'../../utils/permissions';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Navbar=_ref=>{var _user$name;let{userType,user}=_ref;const{logout}=useAuth();const{t}=useLanguage();const handleLogout=()=>{logout();window.location.href='/login';};const getDashboardLink=()=>{switch(userType){case'pin':return'/pin/dashboard';case'csr':return'/csr/search';case'admin':return'/admin/dashboard';default:return'/login';}};return/*#__PURE__*/_jsx(\"nav\",{className:\"navbar\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"navbar-container\",children:[/*#__PURE__*/_jsxs(Link,{to:getDashboardLink(),className:\"nav-brand\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"nav-brand-icon\",children:\"C\"}),t('app.title')]}),/*#__PURE__*/_jsxs(\"div\",{className:\"nav-main\",children:[/*#__PURE__*/_jsxs(\"ul\",{className:\"nav-links\",children:[userType==='pin'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/pin/dashboard\",className:\"nav-link\",children:t('nav.pin.dashboard')})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/pin/history\",className:\"nav-link\",children:t('nav.pin.history')})})]}),userType==='csr'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/csr/search\",className:\"nav-link\",children:t('nav.csr.search')})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/csr/shortlist\",className:\"nav-link\",children:t('nav.csr.shortlist')})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/csr/history\",className:\"nav-link\",children:t('nav.csr.history')})})]}),(userType==='system_admin'||userType==='platform_manager')&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/admin/dashboard\",className:\"nav-link\",children:t('nav.admin.dashboard')})}),isSystemAdmin(user)&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/admin/users\",className:\"nav-link\",children:t('nav.admin.users')||'User Management'})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/admin/system-logs\",className:\"nav-link\",children:t('nav.admin.systemLogs')||'System Logs'})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/admin/alerts\",className:\"nav-link\",children:t('nav.admin.alerts')||'Alerts'})})]}),isPlatformManager(user)&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/admin/categories\",className:\"nav-link\",children:t('nav.admin.categories')||'Categories'})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/admin/reports\",className:\"nav-link\",children:t('nav.admin.reports')||'Reports'})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/admin/performance\",className:\"nav-link\",children:t('nav.admin.performance')||'CSR Performance'})})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"nav-user\",children:[/*#__PURE__*/_jsx(LanguageSwitcher,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"user-profile-section\",children:[/*#__PURE__*/_jsx(Link,{to:\"/profile\",className:\"user-avatar\",title:t('nav.viewProfile')||'查看个人资料',children:user!==null&&user!==void 0&&user.avatar?/*#__PURE__*/_jsx(\"img\",{src:user.avatar,alt:\"Avatar\",className:\"avatar-image\"}):/*#__PURE__*/_jsx(\"span\",{className:\"avatar-text\",children:(user===null||user===void 0?void 0:(_user$name=user.name)===null||_user$name===void 0?void 0:_user$name.charAt(0))||'U'})}),/*#__PURE__*/_jsx(\"div\",{className:\"user-info\",children:/*#__PURE__*/_jsx(\"div\",{className:\"user-name\",children:(user===null||user===void 0?void 0:user.name)||t('nav.profile')})})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,className:\"btn btn-secondary\",children:t('nav.logout')})]})]})]})});};export default Navbar;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}