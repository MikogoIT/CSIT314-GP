{"ast":null,"code":"import _objectSpread from\"D:/Study/Git/CSIT314-GP/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// CategoryManagement.jsx - ä»… Platform Manager å¯è®¿é—®\nimport React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import{useAuth}from'../../context/AuthContext';import{useLanguage}from'../../context/LanguageContext';import{DataService}from'../../services/dataService';import apiService from'../../services/apiService';import{isPlatformManager}from'../../utils/permissions';import'../../styles/category-management.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CategoryManagement=()=>{var _selectedRequest$loca,_editingRequest$locat;const navigate=useNavigate();const{user}=useAuth();const{t,currentLanguage}=useLanguage();const[categories,setCategories]=useState([]);const[newCategory,setNewCategory]=useState('');const[selectedCategory,setSelectedCategory]=useState(null);const[categoryRequests,setCategoryRequests]=useState([]);const[showRequestModal,setShowRequestModal]=useState(false);const[selectedRequest,setSelectedRequest]=useState(null);const[showRequestDetail,setShowRequestDetail]=useState(false);const[showEditModal,setShowEditModal]=useState(false);const[editingRequest,setEditingRequest]=useState(null);// æƒé™æ£€æŸ¥ - åªæœ‰ Platform Manager å¯ä»¥è®¿é—®\nuseEffect(()=>{if(!isPlatformManager(user)){alert(t('permission.denied')||'Access Denied: Platform Manager only');navigate('/admin/dashboard');}},[user,navigate,t]);// è·å–åˆ†ç±»æ˜¾ç¤ºåç§°\nconst getCategoryDisplayName=category=>{// å¦‚æœæœ‰ displayName å­—æ®µï¼Œä½¿ç”¨å®ƒ\nif(category.displayName){return currentLanguage==='zh'?category.displayName.zh:category.displayName.en;}// å¦åˆ™å°è¯•ç¿»è¯‘ï¼ˆå…¼å®¹æ—§æ•°æ®ï¼‰\nconst translationKey=\"category.\".concat(category.name);const translated=t(translationKey);// å¦‚æœç¿»è¯‘ç»“æœå°±æ˜¯ç¿»è¯‘é”®æœ¬èº«ï¼Œè¯´æ˜æ²¡æœ‰ç¿»è¯‘ï¼Œç›´æ¥è¿”å› name\nreturn translated===translationKey?category.name:translated;};const handleGoBack=()=>{navigate(-1);// è¿”å›ä¸Šä¸€é¡µ\n};// åŠ è½½ç±»åˆ«æ•°æ®\nuseEffect(()=>{loadCategories();},[]);const loadCategories=async()=>{try{const allCategories=await DataService.getCategories();const allRequests=await DataService.getRequests();// è®¡ç®—æ¯ä¸ªç±»åˆ«çš„è¯·æ±‚æ•°é‡\nconst categoriesWithCounts=(allCategories||[]).map(category=>_objectSpread(_objectSpread({},category),{},{count:(allRequests||[]).filter(request=>request.category===category.id||request.category===category.name).length}));setCategories(categoriesWithCounts);}catch(error){console.error('åŠ è½½ç±»åˆ«æ•°æ®å¤±è´¥:',error);setCategories([]);}};const handleAddCategory=async()=>{if(newCategory.trim()){try{// ç”Ÿæˆè‹±æ–‡æ ‡è¯†ç¬¦ï¼ˆç§»é™¤ä¸­æ–‡å­—ç¬¦ï¼Œè½¬æ¢ä¸ºæ‹¼éŸ³æˆ–ä½¿ç”¨æ—¶é—´æˆ³ï¼‰\nconst generateName=displayName=>{// ç§»é™¤æ‰€æœ‰éå­—æ¯æ•°å­—å­—ç¬¦ï¼Œå¦‚æœç»“æœä¸ºç©ºåˆ™ä½¿ç”¨æ—¶é—´æˆ³\nlet name=displayName.toLowerCase().replace(/[^a-z0-9]/g,'_').replace(/_+/g,'_').replace(/^_|_$/g,'');// å¦‚æœå¤„ç†åä¸ºç©ºï¼ˆå…¨æ˜¯ä¸­æ–‡ï¼‰ï¼Œä½¿ç”¨ category_ + æ—¶é—´æˆ³\nif(!name||name.length===0){name=\"category_\".concat(Date.now());}return name;};// åˆ›å»ºæ–°åˆ†ç±»å¯¹è±¡\nconst newCategoryData={name:generateName(newCategory),displayName:{zh:newCategory.trim(),en:newCategory.trim()},description:{zh:'',en:''},icon:'ğŸ¤',status:'active'};// è°ƒç”¨APIåˆ›å»ºæ–°åˆ†ç±»\nawait apiService.createCategory(newCategoryData);// æ¸…é™¤ç¼“å­˜å¹¶é‡æ–°åŠ è½½\nDataService.clearCache('categories');await loadCategories();setNewCategory('');alert('åˆ†ç±»æ·»åŠ æˆåŠŸ');}catch(error){console.error('æ·»åŠ åˆ†ç±»å¤±è´¥:',error);alert('æ·»åŠ åˆ†ç±»å¤±è´¥: '+(error.message||'æœªçŸ¥é”™è¯¯'));}}};const handleDeleteCategory=async id=>{if(!window.confirm('ç¡®å®šè¦åˆ é™¤è¿™ä¸ªåˆ†ç±»å—ï¼Ÿ')){return;}try{await apiService.deleteCategory(id);// æ¸…é™¤ç¼“å­˜å¹¶é‡æ–°åŠ è½½\nDataService.clearCache('categories');await loadCategories();alert('åˆ†ç±»åˆ é™¤æˆåŠŸ');}catch(error){console.error('åˆ é™¤åˆ†ç±»å¤±è´¥:',error);alert('åˆ é™¤åˆ†ç±»å¤±è´¥: '+(error.message||'æœªçŸ¥é”™è¯¯'));}};const handleViewCategoryRequests=async category=>{try{// ç›´æ¥è·å–æ‰€æœ‰è¯·æ±‚ç„¶åæœ¬åœ°è¿‡æ»¤ï¼Œç¡®ä¿èƒ½è·å¾—ç»“æœ\nconst allRequests=await DataService.getRequests();// å¯¹æ‰€æœ‰è¯·æ±‚è¿›è¡Œè¯¦ç»†çš„åˆ†ç±»åŒ¹é…\nconst requests=(allRequests||[]).filter(request=>{var _request$category,_request$category2;// å¤šç§åŒ¹é…æ–¹å¼\nreturn request.category===category.id||((_request$category=request.category)===null||_request$category===void 0?void 0:_request$category.name)===category.id||((_request$category2=request.category)===null||_request$category2===void 0?void 0:_request$category2.id)===category.id||typeof request.category==='string'&&request.category===category.id;});setSelectedCategory(category);setCategoryRequests(requests||[]);setShowRequestModal(true);}catch(error){console.error('è·å–åˆ†ç±»è¯·æ±‚å¤±è´¥:',error);setCategoryRequests([]);setShowRequestModal(true);}};const closeRequestModal=()=>{setShowRequestModal(false);setSelectedCategory(null);setCategoryRequests([]);};// æŸ¥çœ‹è¯·æ±‚è¯¦æƒ…\nconst handleViewRequestDetail=request=>{setSelectedRequest(request);setShowRequestDetail(true);};// ç¼–è¾‘è¯·æ±‚\nconst handleEditRequest=request=>{setEditingRequest(_objectSpread({},request));setShowEditModal(true);};// å†»ç»“/è§£å†»è¯·æ±‚\nconst handleFreezeRequest=async request=>{try{const newStatus=request.status==='frozen'?request.originalStatus||'pending':'frozen';const updatedRequest=_objectSpread(_objectSpread({},request),{},{status:newStatus,originalStatus:newStatus==='frozen'?request.status:undefined,frozenAt:newStatus==='frozen'?new Date().toISOString():undefined,updatedAt:new Date().toISOString()});// æ›´æ–°æœ¬åœ°å­˜å‚¨ä¸­çš„è¯·æ±‚\nconst allRequests=await DataService.getRequests();const updatedRequests=allRequests.map(r=>r.id===request.id?updatedRequest:r);localStorage.setItem('serviceRequests',JSON.stringify(updatedRequests));// æ›´æ–°å½“å‰æ˜¾ç¤ºçš„è¯·æ±‚åˆ—è¡¨\nsetCategoryRequests(categoryRequests.map(r=>r.id===request.id?updatedRequest:r));// é‡æ–°åŠ è½½ç±»åˆ«æ•°æ®ä»¥æ›´æ–°è®¡æ•°\nloadCategories();}catch(error){console.error('å†»ç»“/è§£å†»è¯·æ±‚å¤±è´¥:',error);alert('æ“ä½œå¤±è´¥ï¼Œè¯·é‡è¯•');}};// åˆ é™¤è¯·æ±‚\nconst handleDeleteRequest=async request=>{if(window.confirm(t('admin.categories.confirmDelete')||\"\\u786E\\u5B9A\\u8981\\u5220\\u9664\\u8BF7\\u6C42 \\\"\".concat(request.title,\"\\\" \\u5417\\uFF1F\\u6B64\\u64CD\\u4F5C\\u65E0\\u6CD5\\u64A4\\u9500\\u3002\"))){try{const allRequests=await DataService.getRequests();const filteredRequests=allRequests.filter(r=>r.id!==request.id);localStorage.setItem('serviceRequests',JSON.stringify(filteredRequests));// æ›´æ–°å½“å‰æ˜¾ç¤ºçš„è¯·æ±‚åˆ—è¡¨\nsetCategoryRequests(categoryRequests.filter(r=>r.id!==request.id));// é‡æ–°åŠ è½½ç±»åˆ«æ•°æ®ä»¥æ›´æ–°è®¡æ•°\nloadCategories();}catch(error){console.error('åˆ é™¤è¯·æ±‚å¤±è´¥:',error);alert('åˆ é™¤å¤±è´¥ï¼Œè¯·é‡è¯•');}}};// ä¿å­˜ç¼–è¾‘çš„è¯·æ±‚\nconst handleSaveEditedRequest=async()=>{if(!editingRequest)return;try{const updatedRequest=_objectSpread(_objectSpread({},editingRequest),{},{updatedAt:new Date().toISOString()});const allRequests=await DataService.getRequests();const updatedRequests=allRequests.map(r=>r.id===editingRequest.id?updatedRequest:r);localStorage.setItem('serviceRequests',JSON.stringify(updatedRequests));// æ›´æ–°å½“å‰æ˜¾ç¤ºçš„è¯·æ±‚åˆ—è¡¨\nsetCategoryRequests(categoryRequests.map(r=>r.id===editingRequest.id?updatedRequest:r));setShowEditModal(false);setEditingRequest(null);loadCategories();}catch(error){console.error('ä¿å­˜è¯·æ±‚å¤±è´¥:',error);alert('ä¿å­˜å¤±è´¥ï¼Œè¯·é‡è¯•');}};// å…³é—­è¯¦æƒ…æ¨¡æ€æ¡†\nconst closeRequestDetail=()=>{setShowRequestDetail(false);setSelectedRequest(null);};// å…³é—­ç¼–è¾‘æ¨¡æ€æ¡†\nconst closeEditModal=()=>{setShowEditModal(false);setEditingRequest(null);};return/*#__PURE__*/_jsxs(\"div\",{className:\"admin-page\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"page-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"page-nav\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-back\",onClick:handleGoBack,title:t('common.back')||'è¿”å›',children:[/*#__PURE__*/_jsx(\"span\",{className:\"btn-icon\",children:\"\\u2190\"}),t('common.back')||'è¿”å›']})}),/*#__PURE__*/_jsx(\"h1\",{className:\"page-title\",children:t('admin.categories.title')}),/*#__PURE__*/_jsx(\"p\",{className:\"page-subtitle\",children:t('admin.categories.subtitle')})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"card-title\",children:t('admin.categories.addNew')})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-input\",placeholder:t('admin.categories.placeholder'),value:newCategory,onChange:e=>setNewCategory(e.target.value),onKeyPress:e=>e.key==='Enter'&&handleAddCategory()}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-primary\",onClick:handleAddCategory,disabled:!newCategory.trim(),children:[/*#__PURE__*/_jsx(\"span\",{className:\"btn-icon\",children:\"+\"}),t('admin.categories.add')]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"card-title\",children:t('admin.categories.existing')}),/*#__PURE__*/_jsxs(\"span\",{className:\"badge\",children:[categories.length,\" \",t('admin.categories.count')]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsx(\"div\",{className:\"category-list\",children:categories.map(category=>/*#__PURE__*/_jsxs(\"div\",{className:\"category-item\",onClick:()=>handleViewCategoryRequests(category),title:category.count>0?t('admin.categories.clickToView')||'ç‚¹å‡»æŸ¥çœ‹ç›¸å…³è¯·æ±‚':'',children:[/*#__PURE__*/_jsxs(\"div\",{className:\"category-info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"category-icon\",children:\"\\uD83D\\uDCC1\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"category-details\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"category-name\",children:getCategoryDisplayName(category)}),/*#__PURE__*/_jsxs(\"p\",{className:\"category-count\",children:[category.count,\" \",t('admin.categories.relatedRequests'),category.count>0&&/*#__PURE__*/_jsxs(\"span\",{className:\"click-hint\",children:[\" \\u2022 \",t('admin.categories.clickHint')||'ç‚¹å‡»æŸ¥çœ‹']})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"category-actions\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger btn-sm delete-btn\",onClick:e=>{e.stopPropagation();handleDeleteCategory(category._id||category.id);},title:t('common.delete')||'åˆ é™¤',children:\"\\uD83D\\uDDD1\\uFE0F\"})})]},category.id))})})]}),showRequestModal&&selectedCategory&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",onClick:closeRequestModal,children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content large\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"modal-title\",children:[getCategoryDisplayName(selectedCategory),\" - \",t('admin.categories.requestList')||'è¯·æ±‚åˆ—è¡¨']}),/*#__PURE__*/_jsx(\"button\",{className:\"modal-close\",onClick:closeRequestModal,children:\"\\xD7\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"request-stats\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"stat-label\",children:[t('admin.categories.totalRequests')||'æ€»è¯·æ±‚æ•°',\":\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-value\",children:categoryRequests.length})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"stat-label\",children:[t('admin.categories.pendingRequests')||'å¾…å¤„ç†',\":\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-value\",children:categoryRequests.filter(r=>r.status==='pending').length})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"stat-label\",children:[t('admin.categories.matchedRequests')||'å·²åŒ¹é…',\":\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-value\",children:categoryRequests.filter(r=>r.status==='matched').length})]})]}),categoryRequests.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"requests-list\",children:categoryRequests.map(request=>{var _request$location;return/*#__PURE__*/_jsxs(\"div\",{className:\"request-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"request-header\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"request-title\",children:request.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"request-header-right\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"status-badge \".concat(request.status),children:request.status==='frozen'?'å·²å†»ç»“':t(DataService.getStatusById(request.status).name)}),/*#__PURE__*/_jsxs(\"div\",{className:\"request-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"action-btn view-btn\",onClick:()=>handleViewRequestDetail(request),title:\"\\u67E5\\u770B\\u8BE6\\u60C5\",children:\"\\uD83D\\uDC41\\uFE0F\"}),/*#__PURE__*/_jsx(\"button\",{className:\"action-btn edit-btn\",onClick:()=>handleEditRequest(request),title:\"\\u7F16\\u8F91\\u8BF7\\u6C42\",children:\"\\u270F\\uFE0F\"}),/*#__PURE__*/_jsx(\"button\",{className:\"action-btn \".concat(request.status==='frozen'?'unfreeze-btn':'freeze-btn'),onClick:()=>handleFreezeRequest(request),title:request.status==='frozen'?'è§£å†»è¯·æ±‚':'å†»ç»“è¯·æ±‚',children:request.status==='frozen'?'ğŸ”“':'â„ï¸'}),/*#__PURE__*/_jsx(\"button\",{className:\"action-btn delete-btn\",onClick:()=>handleDeleteRequest(request),title:\"\\u5220\\u9664\\u8BF7\\u6C42\",children:\"\\uD83D\\uDDD1\\uFE0F\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"request-details\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"request-description\",children:request.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"request-meta\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"meta-item\",children:[/*#__PURE__*/_jsxs(\"strong\",{children:[t('common.urgency')||'ç´§æ€¥ç¨‹åº¦',\":\"]}),t(DataService.getUrgencyById(request.urgency).name)]}),/*#__PURE__*/_jsxs(\"span\",{className:\"meta-item\",children:[/*#__PURE__*/_jsxs(\"strong\",{children:[t('common.location')||'åœ°ç‚¹',\":\"]}),((_request$location=request.location)===null||_request$location===void 0?void 0:_request$location.address)||request.location||'å¾…ç¡®å®š']}),/*#__PURE__*/_jsxs(\"span\",{className:\"meta-item\",children:[/*#__PURE__*/_jsxs(\"strong\",{children:[t('common.createdAt')||'åˆ›å»ºæ—¶é—´',\":\"]}),DataService.getTimeAgo(request.createdAt,t)]}),request.status==='frozen'&&request.frozenAt&&/*#__PURE__*/_jsxs(\"span\",{className:\"meta-item frozen-info\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u51BB\\u7ED3\\u65F6\\u95F4:\"}),DataService.getTimeAgo(request.frozenAt,t)]})]}),request.volunteer&&/*#__PURE__*/_jsxs(\"div\",{className:\"volunteer-info\",children:[/*#__PURE__*/_jsxs(\"strong\",{children:[t('common.volunteer')||'å¿—æ„¿è€…',\":\"]}),\" \",request.volunteer]})]})]},request.id);})}):/*#__PURE__*/_jsxs(\"div\",{className:\"empty-state\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"empty-icon\",children:\"\\uD83D\\uDCED\"}),/*#__PURE__*/_jsx(\"h3\",{children:t('admin.categories.noRequests')||'æš‚æ— è¯·æ±‚'}),/*#__PURE__*/_jsx(\"p\",{children:t('admin.categories.noRequestsDesc')||'è¯¥ç±»åˆ«ä¸‹è¿˜æ²¡æœ‰ä»»ä½•è¯·æ±‚'})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-footer\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary\",onClick:closeRequestModal,children:t('common.close')||'å…³é—­'})})]})}),showRequestDetail&&selectedRequest&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",onClick:closeRequestDetail,children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content large-modal\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u8BF7\\u6C42\\u8BE6\\u60C5\"}),/*#__PURE__*/_jsx(\"button\",{className:\"modal-close\",onClick:closeRequestDetail,children:\"\\xD7\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"detail-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\u57FA\\u672C\\u4FE1\\u606F\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u6807\\u9898:\"}),/*#__PURE__*/_jsx(\"span\",{children:selectedRequest.title})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u72B6\\u6001:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"status-badge \".concat(selectedRequest.status),children:selectedRequest.status==='frozen'?'å·²å†»ç»“':t(DataService.getStatusById(selectedRequest.status).name)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u7D27\\u6025\\u7A0B\\u5EA6:\"}),/*#__PURE__*/_jsx(\"span\",{children:t(DataService.getUrgencyById(selectedRequest.urgency).name)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u7C7B\\u522B:\"}),/*#__PURE__*/_jsx(\"span\",{children:selectedCategory?getCategoryDisplayName(selectedCategory):'æœªçŸ¥'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u5730\\u70B9:\"}),/*#__PURE__*/_jsx(\"span\",{children:((_selectedRequest$loca=selectedRequest.location)===null||_selectedRequest$loca===void 0?void 0:_selectedRequest$loca.address)||selectedRequest.location||'å¾…ç¡®å®š'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u521B\\u5EFA\\u65F6\\u95F4:\"}),/*#__PURE__*/_jsx(\"span\",{children:new Date(selectedRequest.createdAt).toLocaleString('zh-CN')})]}),selectedRequest.updatedAt&&/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u66F4\\u65B0\\u65F6\\u95F4:\"}),/*#__PURE__*/_jsx(\"span\",{children:new Date(selectedRequest.updatedAt).toLocaleString('zh-CN')})]}),selectedRequest.status==='frozen'&&selectedRequest.frozenAt&&/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u51BB\\u7ED3\\u65F6\\u95F4:\"}),/*#__PURE__*/_jsx(\"span\",{children:new Date(selectedRequest.frozenAt).toLocaleString('zh-CN')})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\u8BE6\\u7EC6\\u63CF\\u8FF0\"}),/*#__PURE__*/_jsx(\"p\",{className:\"request-description-full\",children:selectedRequest.description})]}),(selectedRequest.status==='matched'||selectedRequest.status==='completed')&&selectedRequest.assignedVolunteers&&selectedRequest.assignedVolunteers.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"detail-section\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[\"\\u5DF2\\u5206\\u914D\\u5FD7\\u613F\\u8005 (\",selectedRequest.assignedVolunteers.length,\"\\u4EBA)\"]}),selectedRequest.assignedVolunteers.map((volunteer,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"volunteer-card\",style:{marginBottom:'10px',padding:'12px',border:'1px solid #e0e0e0',borderRadius:'6px',backgroundColor:'#f9f9f9'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"detail-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u59D3\\u540D:\"}),/*#__PURE__*/_jsx(\"span\",{children:volunteer.name||'æœªçŸ¥'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u90AE\\u7BB1:\"}),/*#__PURE__*/_jsx(\"span\",{children:volunteer.email||'æœªæä¾›'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u7535\\u8BDD:\"}),/*#__PURE__*/_jsx(\"span\",{children:volunteer.phone||'æœªæä¾›'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u5206\\u914D\\u65F6\\u95F4:\"}),/*#__PURE__*/_jsx(\"span\",{children:volunteer.assignedAt?new Date(volunteer.assignedAt).toLocaleString('zh-CN'):'æœªçŸ¥'})]}),volunteer.completedAt&&/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u5B8C\\u6210\\u65F6\\u95F4:\"}),/*#__PURE__*/_jsx(\"span\",{children:new Date(volunteer.completedAt).toLocaleString('zh-CN')})]}),volunteer.rating&&/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u8BC4\\u5206:\"}),/*#__PURE__*/_jsx(\"span\",{children:'â­'.repeat(volunteer.rating)})]}),volunteer.feedback&&/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",style:{gridColumn:'1 / -1'},children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u53CD\\u9988:\"}),/*#__PURE__*/_jsx(\"span\",{children:volunteer.feedback})]})]})},index))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\u7533\\u8BF7\\u4EBA\\u4FE1\\u606F\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u59D3\\u540D:\"}),/*#__PURE__*/_jsx(\"span\",{children:selectedRequest.requesterName||'æœªçŸ¥'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u90AE\\u7BB1:\"}),/*#__PURE__*/_jsx(\"span\",{children:selectedRequest.requesterEmail||'æœªæä¾›'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u7535\\u8BDD:\"}),/*#__PURE__*/_jsx(\"span\",{children:selectedRequest.requesterPhone||'æœªæä¾›'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u5730\\u5740:\"}),/*#__PURE__*/_jsx(\"span\",{children:selectedRequest.requesterAddress||'æœªæä¾›'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u9996\\u9009\\u8054\\u7CFB\\u65B9\\u5F0F:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[selectedRequest.contactMethod==='phone'&&'ç”µè¯',selectedRequest.contactMethod==='email'&&'é‚®ç®±',selectedRequest.contactMethod==='both'&&'ç”µè¯å’Œé‚®ç®±',!selectedRequest.contactMethod&&'æœªè®¾ç½®']})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary\",onClick:closeRequestDetail,children:\"\\u5173\\u95ED\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:()=>{closeRequestDetail();handleEditRequest(selectedRequest);},children:\"\\u7F16\\u8F91\\u8BF7\\u6C42\"})]})]})}),showEditModal&&editingRequest&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",onClick:closeEditModal,children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content large-modal\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u7F16\\u8F91\\u8BF7\\u6C42\"}),/*#__PURE__*/_jsx(\"button\",{className:\"modal-close\",onClick:closeEditModal,children:\"\\xD7\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"edit-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u8BF7\\u6C42\\u6807\\u9898\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:editingRequest.title,onChange:e=>setEditingRequest(_objectSpread(_objectSpread({},editingRequest),{},{title:e.target.value})),className:\"form-input\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u8BE6\\u7EC6\\u63CF\\u8FF0\"}),/*#__PURE__*/_jsx(\"textarea\",{value:editingRequest.description,onChange:e=>setEditingRequest(_objectSpread(_objectSpread({},editingRequest),{},{description:e.target.value})),className:\"form-textarea\",rows:4})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u7D27\\u6025\\u7A0B\\u5EA6\"}),/*#__PURE__*/_jsxs(\"select\",{value:editingRequest.urgency,onChange:e=>setEditingRequest(_objectSpread(_objectSpread({},editingRequest),{},{urgency:e.target.value})),className:\"form-select\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"low\",children:\"\\u4F4E\"}),/*#__PURE__*/_jsx(\"option\",{value:\"medium\",children:\"\\u4E2D\"}),/*#__PURE__*/_jsx(\"option\",{value:\"high\",children:\"\\u9AD8\"}),/*#__PURE__*/_jsx(\"option\",{value:\"urgent\",children:\"\\u7D27\\u6025\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u72B6\\u6001\"}),/*#__PURE__*/_jsxs(\"select\",{value:editingRequest.status,onChange:e=>setEditingRequest(_objectSpread(_objectSpread({},editingRequest),{},{status:e.target.value})),className:\"form-select\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"pending\",children:\"\\u5F85\\u5904\\u7406\"}),/*#__PURE__*/_jsx(\"option\",{value:\"matched\",children:\"\\u5DF2\\u5339\\u914D\"}),/*#__PURE__*/_jsx(\"option\",{value:\"completed\",children:\"\\u5DF2\\u5B8C\\u6210\"}),/*#__PURE__*/_jsx(\"option\",{value:\"cancelled\",children:\"\\u5DF2\\u53D6\\u6D88\"}),/*#__PURE__*/_jsx(\"option\",{value:\"frozen\",children:\"\\u5DF2\\u51BB\\u7ED3\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u670D\\u52A1\\u5730\\u70B9\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:((_editingRequest$locat=editingRequest.location)===null||_editingRequest$locat===void 0?void 0:_editingRequest$locat.address)||editingRequest.location||'',onChange:e=>setEditingRequest(_objectSpread(_objectSpread({},editingRequest),{},{location:e.target.value})),className:\"form-input\"})]}),editingRequest.status==='matched'&&/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u5FD7\\u613F\\u8005\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:editingRequest.volunteer||'',onChange:e=>setEditingRequest(_objectSpread(_objectSpread({},editingRequest),{},{volunteer:e.target.value})),className:\"form-input\"})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary\",onClick:closeEditModal,children:\"\\u53D6\\u6D88\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:handleSaveEditedRequest,children:\"\\u4FDD\\u5B58\\u66F4\\u6539\"})]})]})})]});};export default CategoryManagement;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useAuth","useLanguage","DataService","apiService","isPlatformManager","jsx","_jsx","jsxs","_jsxs","CategoryManagement","_selectedRequest$loca","_editingRequest$locat","navigate","user","t","currentLanguage","categories","setCategories","newCategory","setNewCategory","selectedCategory","setSelectedCategory","categoryRequests","setCategoryRequests","showRequestModal","setShowRequestModal","selectedRequest","setSelectedRequest","showRequestDetail","setShowRequestDetail","showEditModal","setShowEditModal","editingRequest","setEditingRequest","alert","getCategoryDisplayName","category","displayName","zh","en","translationKey","concat","name","translated","handleGoBack","loadCategories","allCategories","getCategories","allRequests","getRequests","categoriesWithCounts","map","_objectSpread","count","filter","request","id","length","error","console","handleAddCategory","trim","generateName","toLowerCase","replace","Date","now","newCategoryData","description","icon","status","createCategory","clearCache","message","handleDeleteCategory","window","confirm","deleteCategory","handleViewCategoryRequests","requests","_request$category","_request$category2","closeRequestModal","handleViewRequestDetail","handleEditRequest","handleFreezeRequest","newStatus","originalStatus","updatedRequest","undefined","frozenAt","toISOString","updatedAt","updatedRequests","r","localStorage","setItem","JSON","stringify","handleDeleteRequest","title","filteredRequests","handleSaveEditedRequest","closeRequestDetail","closeEditModal","className","children","onClick","type","placeholder","value","onChange","e","target","onKeyPress","key","disabled","stopPropagation","_id","_request$location","getStatusById","getUrgencyById","urgency","location","address","getTimeAgo","createdAt","volunteer","toLocaleString","assignedVolunteers","index","style","marginBottom","padding","border","borderRadius","backgroundColor","email","phone","assignedAt","completedAt","rating","repeat","feedback","gridColumn","requesterName","requesterEmail","requesterPhone","requesterAddress","contactMethod","rows"],"sources":["D:/Study/Git/CSIT314-GP/src/pages/Admin/CategoryManagement.jsx"],"sourcesContent":["// CategoryManagement.jsx - ä»… Platform Manager å¯è®¿é—®\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '../../context/AuthContext';\r\nimport { useLanguage } from '../../context/LanguageContext';\r\nimport { DataService } from '../../services/dataService';\r\nimport apiService from '../../services/apiService';\r\nimport { isPlatformManager } from '../../utils/permissions';\r\nimport '../../styles/category-management.css';\r\n\r\nconst CategoryManagement = () => {\r\n  const navigate = useNavigate();\r\n  const { user } = useAuth();\r\n  const { t, currentLanguage } = useLanguage();\r\n  const [categories, setCategories] = useState([]);\r\n  const [newCategory, setNewCategory] = useState('');\r\n  const [selectedCategory, setSelectedCategory] = useState(null);\r\n  const [categoryRequests, setCategoryRequests] = useState([]);\r\n  const [showRequestModal, setShowRequestModal] = useState(false);\r\n  const [selectedRequest, setSelectedRequest] = useState(null);\r\n  const [showRequestDetail, setShowRequestDetail] = useState(false);\r\n  const [showEditModal, setShowEditModal] = useState(false);\r\n  const [editingRequest, setEditingRequest] = useState(null);\r\n\r\n  // æƒé™æ£€æŸ¥ - åªæœ‰ Platform Manager å¯ä»¥è®¿é—®\r\n  useEffect(() => {\r\n    if (!isPlatformManager(user)) {\r\n      alert(t('permission.denied') || 'Access Denied: Platform Manager only');\r\n      navigate('/admin/dashboard');\r\n    }\r\n  }, [user, navigate, t]);\r\n\r\n  // è·å–åˆ†ç±»æ˜¾ç¤ºåç§°\r\n  const getCategoryDisplayName = (category) => {\r\n    // å¦‚æœæœ‰ displayName å­—æ®µï¼Œä½¿ç”¨å®ƒ\r\n    if (category.displayName) {\r\n      return currentLanguage === 'zh' ? category.displayName.zh : category.displayName.en;\r\n    }\r\n    // å¦åˆ™å°è¯•ç¿»è¯‘ï¼ˆå…¼å®¹æ—§æ•°æ®ï¼‰\r\n    const translationKey = `category.${category.name}`;\r\n    const translated = t(translationKey);\r\n    // å¦‚æœç¿»è¯‘ç»“æœå°±æ˜¯ç¿»è¯‘é”®æœ¬èº«ï¼Œè¯´æ˜æ²¡æœ‰ç¿»è¯‘ï¼Œç›´æ¥è¿”å› name\r\n    return translated === translationKey ? category.name : translated;\r\n  };\r\n\r\n  const handleGoBack = () => {\r\n    navigate(-1); // è¿”å›ä¸Šä¸€é¡µ\r\n  };\r\n\r\n  // åŠ è½½ç±»åˆ«æ•°æ®\r\n  useEffect(() => {\r\n    loadCategories();\r\n  }, []);\r\n\r\n  const loadCategories = async () => {\r\n    try {\r\n      const allCategories = await DataService.getCategories();\r\n      const allRequests = await DataService.getRequests();\r\n      \r\n      // è®¡ç®—æ¯ä¸ªç±»åˆ«çš„è¯·æ±‚æ•°é‡\r\n      const categoriesWithCounts = (allCategories || []).map(category => ({\r\n        ...category,\r\n        count: (allRequests || []).filter(request => \r\n          request.category === category.id || request.category === category.name\r\n        ).length\r\n      }));\r\n      \r\n      setCategories(categoriesWithCounts);\r\n    } catch (error) {\r\n      console.error('åŠ è½½ç±»åˆ«æ•°æ®å¤±è´¥:', error);\r\n      setCategories([]);\r\n    }\r\n  };\r\n\r\n  const handleAddCategory = async () => {\r\n    if (newCategory.trim()) {\r\n      try {\r\n        // ç”Ÿæˆè‹±æ–‡æ ‡è¯†ç¬¦ï¼ˆç§»é™¤ä¸­æ–‡å­—ç¬¦ï¼Œè½¬æ¢ä¸ºæ‹¼éŸ³æˆ–ä½¿ç”¨æ—¶é—´æˆ³ï¼‰\r\n        const generateName = (displayName) => {\r\n          // ç§»é™¤æ‰€æœ‰éå­—æ¯æ•°å­—å­—ç¬¦ï¼Œå¦‚æœç»“æœä¸ºç©ºåˆ™ä½¿ç”¨æ—¶é—´æˆ³\r\n          let name = displayName\r\n            .toLowerCase()\r\n            .replace(/[^a-z0-9]/g, '_')\r\n            .replace(/_+/g, '_')\r\n            .replace(/^_|_$/g, '');\r\n          \r\n          // å¦‚æœå¤„ç†åä¸ºç©ºï¼ˆå…¨æ˜¯ä¸­æ–‡ï¼‰ï¼Œä½¿ç”¨ category_ + æ—¶é—´æˆ³\r\n          if (!name || name.length === 0) {\r\n            name = `category_${Date.now()}`;\r\n          }\r\n          \r\n          return name;\r\n        };\r\n        \r\n        // åˆ›å»ºæ–°åˆ†ç±»å¯¹è±¡\r\n        const newCategoryData = {\r\n          name: generateName(newCategory),\r\n          displayName: {\r\n            zh: newCategory.trim(),\r\n            en: newCategory.trim()\r\n          },\r\n          description: {\r\n            zh: '',\r\n            en: ''\r\n          },\r\n          icon: 'ğŸ¤',\r\n          status: 'active'\r\n        };\r\n        \r\n        // è°ƒç”¨APIåˆ›å»ºæ–°åˆ†ç±»\r\n        await apiService.createCategory(newCategoryData);\r\n        \r\n        // æ¸…é™¤ç¼“å­˜å¹¶é‡æ–°åŠ è½½\r\n        DataService.clearCache('categories');\r\n        await loadCategories();\r\n        \r\n        setNewCategory('');\r\n        alert('åˆ†ç±»æ·»åŠ æˆåŠŸ');\r\n      } catch (error) {\r\n        console.error('æ·»åŠ åˆ†ç±»å¤±è´¥:', error);\r\n        alert('æ·»åŠ åˆ†ç±»å¤±è´¥: ' + (error.message || 'æœªçŸ¥é”™è¯¯'));\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleDeleteCategory = async (id) => {\r\n    if (!window.confirm('ç¡®å®šè¦åˆ é™¤è¿™ä¸ªåˆ†ç±»å—ï¼Ÿ')) {\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      await apiService.deleteCategory(id);\r\n      \r\n      // æ¸…é™¤ç¼“å­˜å¹¶é‡æ–°åŠ è½½\r\n      DataService.clearCache('categories');\r\n      await loadCategories();\r\n      \r\n      alert('åˆ†ç±»åˆ é™¤æˆåŠŸ');\r\n    } catch (error) {\r\n      console.error('åˆ é™¤åˆ†ç±»å¤±è´¥:', error);\r\n      alert('åˆ é™¤åˆ†ç±»å¤±è´¥: ' + (error.message || 'æœªçŸ¥é”™è¯¯'));\r\n    }\r\n  };\r\n\r\n  const handleViewCategoryRequests = async (category) => {\r\n    try {\r\n      // ç›´æ¥è·å–æ‰€æœ‰è¯·æ±‚ç„¶åæœ¬åœ°è¿‡æ»¤ï¼Œç¡®ä¿èƒ½è·å¾—ç»“æœ\r\n      const allRequests = await DataService.getRequests();\r\n      \r\n      // å¯¹æ‰€æœ‰è¯·æ±‚è¿›è¡Œè¯¦ç»†çš„åˆ†ç±»åŒ¹é…\r\n      const requests = (allRequests || []).filter(request => {\r\n        // å¤šç§åŒ¹é…æ–¹å¼\r\n        return request.category === category.id || \r\n               request.category?.name === category.id ||\r\n               request.category?.id === category.id ||\r\n               (typeof request.category === 'string' && request.category === category.id);\r\n      });\r\n      \r\n      setSelectedCategory(category);\r\n      setCategoryRequests(requests || []);\r\n      setShowRequestModal(true);\r\n    } catch (error) {\r\n      console.error('è·å–åˆ†ç±»è¯·æ±‚å¤±è´¥:', error);\r\n      setCategoryRequests([]);\r\n      setShowRequestModal(true);\r\n    }\r\n  };\r\n\r\n  const closeRequestModal = () => {\r\n    setShowRequestModal(false);\r\n    setSelectedCategory(null);\r\n    setCategoryRequests([]);\r\n  };\r\n\r\n  // æŸ¥çœ‹è¯·æ±‚è¯¦æƒ…\r\n  const handleViewRequestDetail = (request) => {\r\n    setSelectedRequest(request);\r\n    setShowRequestDetail(true);\r\n  };\r\n\r\n  // ç¼–è¾‘è¯·æ±‚\r\n  const handleEditRequest = (request) => {\r\n    setEditingRequest({...request});\r\n    setShowEditModal(true);\r\n  };\r\n\r\n  // å†»ç»“/è§£å†»è¯·æ±‚\r\n  const handleFreezeRequest = async (request) => {\r\n    try {\r\n      const newStatus = request.status === 'frozen' ? request.originalStatus || 'pending' : 'frozen';\r\n      const updatedRequest = {\r\n        ...request,\r\n        status: newStatus,\r\n        originalStatus: newStatus === 'frozen' ? request.status : undefined,\r\n        frozenAt: newStatus === 'frozen' ? new Date().toISOString() : undefined,\r\n        updatedAt: new Date().toISOString()\r\n      };\r\n\r\n      // æ›´æ–°æœ¬åœ°å­˜å‚¨ä¸­çš„è¯·æ±‚\r\n      const allRequests = await DataService.getRequests();\r\n      const updatedRequests = allRequests.map(r => \r\n        r.id === request.id ? updatedRequest : r\r\n      );\r\n      localStorage.setItem('serviceRequests', JSON.stringify(updatedRequests));\r\n\r\n      // æ›´æ–°å½“å‰æ˜¾ç¤ºçš„è¯·æ±‚åˆ—è¡¨\r\n      setCategoryRequests(categoryRequests.map(r => \r\n        r.id === request.id ? updatedRequest : r\r\n      ));\r\n\r\n      // é‡æ–°åŠ è½½ç±»åˆ«æ•°æ®ä»¥æ›´æ–°è®¡æ•°\r\n      loadCategories();\r\n    } catch (error) {\r\n      console.error('å†»ç»“/è§£å†»è¯·æ±‚å¤±è´¥:', error);\r\n      alert('æ“ä½œå¤±è´¥ï¼Œè¯·é‡è¯•');\r\n    }\r\n  };\r\n\r\n  // åˆ é™¤è¯·æ±‚\r\n  const handleDeleteRequest = async (request) => {\r\n    if (window.confirm(t('admin.categories.confirmDelete') || `ç¡®å®šè¦åˆ é™¤è¯·æ±‚ \"${request.title}\" å—ï¼Ÿæ­¤æ“ä½œæ— æ³•æ’¤é”€ã€‚`)) {\r\n      try {\r\n        const allRequests = await DataService.getRequests();\r\n        const filteredRequests = allRequests.filter(r => r.id !== request.id);\r\n        localStorage.setItem('serviceRequests', JSON.stringify(filteredRequests));\r\n\r\n        // æ›´æ–°å½“å‰æ˜¾ç¤ºçš„è¯·æ±‚åˆ—è¡¨\r\n        setCategoryRequests(categoryRequests.filter(r => r.id !== request.id));\r\n\r\n        // é‡æ–°åŠ è½½ç±»åˆ«æ•°æ®ä»¥æ›´æ–°è®¡æ•°\r\n        loadCategories();\r\n      } catch (error) {\r\n        console.error('åˆ é™¤è¯·æ±‚å¤±è´¥:', error);\r\n        alert('åˆ é™¤å¤±è´¥ï¼Œè¯·é‡è¯•');\r\n      }\r\n    }\r\n  };\r\n\r\n  // ä¿å­˜ç¼–è¾‘çš„è¯·æ±‚\r\n  const handleSaveEditedRequest = async () => {\r\n    if (!editingRequest) return;\r\n\r\n    try {\r\n      const updatedRequest = {\r\n        ...editingRequest,\r\n        updatedAt: new Date().toISOString()\r\n      };\r\n\r\n      const allRequests = await DataService.getRequests();\r\n      const updatedRequests = allRequests.map(r => \r\n        r.id === editingRequest.id ? updatedRequest : r\r\n      );\r\n      localStorage.setItem('serviceRequests', JSON.stringify(updatedRequests));\r\n\r\n      // æ›´æ–°å½“å‰æ˜¾ç¤ºçš„è¯·æ±‚åˆ—è¡¨\r\n      setCategoryRequests(categoryRequests.map(r => \r\n        r.id === editingRequest.id ? updatedRequest : r\r\n      ));\r\n\r\n      setShowEditModal(false);\r\n      setEditingRequest(null);\r\n      loadCategories();\r\n    } catch (error) {\r\n      console.error('ä¿å­˜è¯·æ±‚å¤±è´¥:', error);\r\n      alert('ä¿å­˜å¤±è´¥ï¼Œè¯·é‡è¯•');\r\n    }\r\n  };\r\n\r\n  // å…³é—­è¯¦æƒ…æ¨¡æ€æ¡†\r\n  const closeRequestDetail = () => {\r\n    setShowRequestDetail(false);\r\n    setSelectedRequest(null);\r\n  };\r\n\r\n  // å…³é—­ç¼–è¾‘æ¨¡æ€æ¡†\r\n  const closeEditModal = () => {\r\n    setShowEditModal(false);\r\n    setEditingRequest(null);\r\n  };\r\n\r\n  return (\r\n    <div className=\"admin-page\">\r\n      <div className=\"page-header\">\r\n        <div className=\"page-nav\">\r\n          <button \r\n            className=\"btn btn-back\"\r\n            onClick={handleGoBack}\r\n            title={t('common.back') || 'è¿”å›'}\r\n          >\r\n            <span className=\"btn-icon\">â†</span>\r\n            {t('common.back') || 'è¿”å›'}\r\n          </button>\r\n        </div>\r\n        <h1 className=\"page-title\">{t('admin.categories.title')}</h1>\r\n        <p className=\"page-subtitle\">{t('admin.categories.subtitle')}</p>\r\n      </div>\r\n\r\n      <div className=\"card\">\r\n        <div className=\"card-header\">\r\n          <h3 className=\"card-title\">{t('admin.categories.addNew')}</h3>\r\n        </div>\r\n        <div className=\"card-body\">\r\n          <div className=\"input-group\">\r\n            <input \r\n              type=\"text\" \r\n              className=\"form-input\"\r\n              placeholder={t('admin.categories.placeholder')}\r\n              value={newCategory}\r\n              onChange={(e) => setNewCategory(e.target.value)}\r\n              onKeyPress={(e) => e.key === 'Enter' && handleAddCategory()}\r\n            />\r\n            <button \r\n              className=\"btn btn-primary\"\r\n              onClick={handleAddCategory}\r\n              disabled={!newCategory.trim()}\r\n            >\r\n              <span className=\"btn-icon\">+</span>\r\n              {t('admin.categories.add')}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"card\">\r\n        <div className=\"card-header\">\r\n          <h3 className=\"card-title\">{t('admin.categories.existing')}</h3>\r\n          <span className=\"badge\">{categories.length} {t('admin.categories.count')}</span>\r\n        </div>\r\n        <div className=\"card-body\">\r\n          <div className=\"category-list\">\r\n            {categories.map(category => (\r\n              <div \r\n                key={category.id} \r\n                className=\"category-item\"\r\n                onClick={() => handleViewCategoryRequests(category)}\r\n                title={category.count > 0 ? (t('admin.categories.clickToView') || 'ç‚¹å‡»æŸ¥çœ‹ç›¸å…³è¯·æ±‚') : ''}\r\n              >\r\n                <div className=\"category-info\">\r\n                  <div className=\"category-icon\">ğŸ“</div>\r\n                  <div className=\"category-details\">\r\n                    <h4 className=\"category-name\">{getCategoryDisplayName(category)}</h4>\r\n                    <p className=\"category-count\">\r\n                      {category.count} {t('admin.categories.relatedRequests')}\r\n                      {category.count > 0 && (\r\n                        <span className=\"click-hint\"> â€¢ {t('admin.categories.clickHint') || 'ç‚¹å‡»æŸ¥çœ‹'}</span>\r\n                      )}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n                <div className=\"category-actions\">\r\n                  <button \r\n                    className=\"btn btn-danger btn-sm delete-btn\"\r\n                    onClick={(e) => {\r\n                      e.stopPropagation();\r\n                      handleDeleteCategory(category._id || category.id);\r\n                    }}\r\n                    title={t('common.delete') || 'åˆ é™¤'}\r\n                  >\r\n                    ğŸ—‘ï¸\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* è¯·æ±‚åˆ—è¡¨æ¨¡æ€æ¡† */}\r\n      {showRequestModal && selectedCategory && (\r\n        <div className=\"modal-overlay\" onClick={closeRequestModal}>\r\n          <div className=\"modal-content large\" onClick={(e) => e.stopPropagation()}>\r\n            <div className=\"modal-header\">\r\n              <h3 className=\"modal-title\">\r\n                {getCategoryDisplayName(selectedCategory)} - {t('admin.categories.requestList') || 'è¯·æ±‚åˆ—è¡¨'}\r\n              </h3>\r\n              <button className=\"modal-close\" onClick={closeRequestModal}>Ã—</button>\r\n            </div>\r\n            <div className=\"modal-body\">\r\n              <div className=\"request-stats\">\r\n                <div className=\"stat-item\">\r\n                  <span className=\"stat-label\">{t('admin.categories.totalRequests') || 'æ€»è¯·æ±‚æ•°'}:</span>\r\n                  <span className=\"stat-value\">{categoryRequests.length}</span>\r\n                </div>\r\n                <div className=\"stat-item\">\r\n                  <span className=\"stat-label\">{t('admin.categories.pendingRequests') || 'å¾…å¤„ç†'}:</span>\r\n                  <span className=\"stat-value\">\r\n                    {categoryRequests.filter(r => r.status === 'pending').length}\r\n                  </span>\r\n                </div>\r\n                <div className=\"stat-item\">\r\n                  <span className=\"stat-label\">{t('admin.categories.matchedRequests') || 'å·²åŒ¹é…'}:</span>\r\n                  <span className=\"stat-value\">\r\n                    {categoryRequests.filter(r => r.status === 'matched').length}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n              {categoryRequests.length > 0 ? (\r\n                <div className=\"requests-list\">\r\n                  {categoryRequests.map(request => (\r\n                    <div key={request.id} className=\"request-item\">\r\n                      <div className=\"request-header\">\r\n                        <h4 className=\"request-title\">{request.title}</h4>\r\n                        <div className=\"request-header-right\">\r\n                          <span className={`status-badge ${request.status}`}>\r\n                            {request.status === 'frozen' ? 'å·²å†»ç»“' : t(DataService.getStatusById(request.status).name)}\r\n                          </span>\r\n                          <div className=\"request-actions\">\r\n                            <button \r\n                              className=\"action-btn view-btn\"\r\n                              onClick={() => handleViewRequestDetail(request)}\r\n                              title=\"æŸ¥çœ‹è¯¦æƒ…\"\r\n                            >\r\n                              ğŸ‘ï¸\r\n                            </button>\r\n                            <button \r\n                              className=\"action-btn edit-btn\"\r\n                              onClick={() => handleEditRequest(request)}\r\n                              title=\"ç¼–è¾‘è¯·æ±‚\"\r\n                            >\r\n                              âœï¸\r\n                            </button>\r\n                            <button \r\n                              className={`action-btn ${request.status === 'frozen' ? 'unfreeze-btn' : 'freeze-btn'}`}\r\n                              onClick={() => handleFreezeRequest(request)}\r\n                              title={request.status === 'frozen' ? 'è§£å†»è¯·æ±‚' : 'å†»ç»“è¯·æ±‚'}\r\n                            >\r\n                              {request.status === 'frozen' ? 'ğŸ”“' : 'â„ï¸'}\r\n                            </button>\r\n                            <button \r\n                              className=\"action-btn delete-btn\"\r\n                              onClick={() => handleDeleteRequest(request)}\r\n                              title=\"åˆ é™¤è¯·æ±‚\"\r\n                            >\r\n                              ğŸ—‘ï¸\r\n                            </button>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"request-details\">\r\n                        <p className=\"request-description\">{request.description}</p>\r\n                        <div className=\"request-meta\">\r\n                          <span className=\"meta-item\">\r\n                            <strong>{t('common.urgency') || 'ç´§æ€¥ç¨‹åº¦'}:</strong> \r\n                            {t(DataService.getUrgencyById(request.urgency).name)}\r\n                          </span>\r\n                          <span className=\"meta-item\">\r\n                            <strong>{t('common.location') || 'åœ°ç‚¹'}:</strong> \r\n                            {request.location?.address || request.location || 'å¾…ç¡®å®š'}\r\n                          </span>\r\n                          <span className=\"meta-item\">\r\n                            <strong>{t('common.createdAt') || 'åˆ›å»ºæ—¶é—´'}:</strong> \r\n                            {DataService.getTimeAgo(request.createdAt, t)}\r\n                          </span>\r\n                          {request.status === 'frozen' && request.frozenAt && (\r\n                            <span className=\"meta-item frozen-info\">\r\n                              <strong>å†»ç»“æ—¶é—´:</strong> \r\n                              {DataService.getTimeAgo(request.frozenAt, t)}\r\n                            </span>\r\n                          )}\r\n                        </div>\r\n                        {request.volunteer && (\r\n                          <div className=\"volunteer-info\">\r\n                            <strong>{t('common.volunteer') || 'å¿—æ„¿è€…'}:</strong> {request.volunteer}\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              ) : (\r\n                <div className=\"empty-state\">\r\n                  <div className=\"empty-icon\">ğŸ“­</div>\r\n                  <h3>{t('admin.categories.noRequests') || 'æš‚æ— è¯·æ±‚'}</h3>\r\n                  <p>{t('admin.categories.noRequestsDesc') || 'è¯¥ç±»åˆ«ä¸‹è¿˜æ²¡æœ‰ä»»ä½•è¯·æ±‚'}</p>\r\n                </div>\r\n              )}\r\n            </div>\r\n            <div className=\"modal-footer\">\r\n              <button className=\"btn btn-secondary\" onClick={closeRequestModal}>\r\n                {t('common.close') || 'å…³é—­'}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* è¯·æ±‚è¯¦æƒ…æ¨¡æ€æ¡† */}\r\n      {showRequestDetail && selectedRequest && (\r\n        <div className=\"modal-overlay\" onClick={closeRequestDetail}>\r\n          <div className=\"modal-content large-modal\" onClick={(e) => e.stopPropagation()}>\r\n            <div className=\"modal-header\">\r\n              <h3>è¯·æ±‚è¯¦æƒ…</h3>\r\n              <button className=\"modal-close\" onClick={closeRequestDetail}>Ã—</button>\r\n            </div>\r\n            <div className=\"modal-body\">\r\n              <div className=\"detail-section\">\r\n                <h4>åŸºæœ¬ä¿¡æ¯</h4>\r\n                <div className=\"detail-grid\">\r\n                  <div className=\"detail-item\">\r\n                    <label>æ ‡é¢˜:</label>\r\n                    <span>{selectedRequest.title}</span>\r\n                  </div>\r\n                  <div className=\"detail-item\">\r\n                    <label>çŠ¶æ€:</label>\r\n                    <span className={`status-badge ${selectedRequest.status}`}>\r\n                      {selectedRequest.status === 'frozen' ? 'å·²å†»ç»“' : t(DataService.getStatusById(selectedRequest.status).name)}\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"detail-item\">\r\n                    <label>ç´§æ€¥ç¨‹åº¦:</label>\r\n                    <span>{t(DataService.getUrgencyById(selectedRequest.urgency).name)}</span>\r\n                  </div>\r\n                  <div className=\"detail-item\">\r\n                    <label>ç±»åˆ«:</label>\r\n                    <span>{selectedCategory ? getCategoryDisplayName(selectedCategory) : 'æœªçŸ¥'}</span>\r\n                  </div>\r\n                  <div className=\"detail-item\">\r\n                    <label>åœ°ç‚¹:</label>\r\n                    <span>{selectedRequest.location?.address || selectedRequest.location || 'å¾…ç¡®å®š'}</span>\r\n                  </div>\r\n                  <div className=\"detail-item\">\r\n                    <label>åˆ›å»ºæ—¶é—´:</label>\r\n                    <span>{new Date(selectedRequest.createdAt).toLocaleString('zh-CN')}</span>\r\n                  </div>\r\n                  {selectedRequest.updatedAt && (\r\n                    <div className=\"detail-item\">\r\n                      <label>æ›´æ–°æ—¶é—´:</label>\r\n                      <span>{new Date(selectedRequest.updatedAt).toLocaleString('zh-CN')}</span>\r\n                    </div>\r\n                  )}\r\n                  {selectedRequest.status === 'frozen' && selectedRequest.frozenAt && (\r\n                    <div className=\"detail-item\">\r\n                      <label>å†»ç»“æ—¶é—´:</label>\r\n                      <span>{new Date(selectedRequest.frozenAt).toLocaleString('zh-CN')}</span>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"detail-section\">\r\n                <h4>è¯¦ç»†æè¿°</h4>\r\n                <p className=\"request-description-full\">{selectedRequest.description}</p>\r\n              </div>\r\n\r\n              {/* å·²åˆ†é…å¿—æ„¿è€…ä¿¡æ¯ */}\r\n              {(selectedRequest.status === 'matched' || selectedRequest.status === 'completed') && \r\n               selectedRequest.assignedVolunteers && \r\n               selectedRequest.assignedVolunteers.length > 0 && (\r\n                <div className=\"detail-section\">\r\n                  <h4>å·²åˆ†é…å¿—æ„¿è€… ({selectedRequest.assignedVolunteers.length}äºº)</h4>\r\n                  {selectedRequest.assignedVolunteers.map((volunteer, index) => (\r\n                    <div key={index} className=\"volunteer-card\" style={{ \r\n                      marginBottom: '10px', \r\n                      padding: '12px', \r\n                      border: '1px solid #e0e0e0', \r\n                      borderRadius: '6px',\r\n                      backgroundColor: '#f9f9f9'\r\n                    }}>\r\n                      <div className=\"detail-grid\">\r\n                        <div className=\"detail-item\">\r\n                          <label>å§“å:</label>\r\n                          <span>{volunteer.name || 'æœªçŸ¥'}</span>\r\n                        </div>\r\n                        <div className=\"detail-item\">\r\n                          <label>é‚®ç®±:</label>\r\n                          <span>{volunteer.email || 'æœªæä¾›'}</span>\r\n                        </div>\r\n                        <div className=\"detail-item\">\r\n                          <label>ç”µè¯:</label>\r\n                          <span>{volunteer.phone || 'æœªæä¾›'}</span>\r\n                        </div>\r\n                        <div className=\"detail-item\">\r\n                          <label>åˆ†é…æ—¶é—´:</label>\r\n                          <span>{volunteer.assignedAt ? new Date(volunteer.assignedAt).toLocaleString('zh-CN') : 'æœªçŸ¥'}</span>\r\n                        </div>\r\n                        {volunteer.completedAt && (\r\n                          <div className=\"detail-item\">\r\n                            <label>å®Œæˆæ—¶é—´:</label>\r\n                            <span>{new Date(volunteer.completedAt).toLocaleString('zh-CN')}</span>\r\n                          </div>\r\n                        )}\r\n                        {volunteer.rating && (\r\n                          <div className=\"detail-item\">\r\n                            <label>è¯„åˆ†:</label>\r\n                            <span>{'â­'.repeat(volunteer.rating)}</span>\r\n                          </div>\r\n                        )}\r\n                        {volunteer.feedback && (\r\n                          <div className=\"detail-item\" style={{ gridColumn: '1 / -1' }}>\r\n                            <label>åé¦ˆ:</label>\r\n                            <span>{volunteer.feedback}</span>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n\r\n              <div className=\"detail-section\">\r\n                <h4>ç”³è¯·äººä¿¡æ¯</h4>\r\n                <div className=\"detail-grid\">\r\n                  <div className=\"detail-item\">\r\n                    <label>å§“å:</label>\r\n                    <span>{selectedRequest.requesterName || 'æœªçŸ¥'}</span>\r\n                  </div>\r\n                  <div className=\"detail-item\">\r\n                    <label>é‚®ç®±:</label>\r\n                    <span>{selectedRequest.requesterEmail || 'æœªæä¾›'}</span>\r\n                  </div>\r\n                  <div className=\"detail-item\">\r\n                    <label>ç”µè¯:</label>\r\n                    <span>{selectedRequest.requesterPhone || 'æœªæä¾›'}</span>\r\n                  </div>\r\n                  <div className=\"detail-item\">\r\n                    <label>åœ°å€:</label>\r\n                    <span>{selectedRequest.requesterAddress || 'æœªæä¾›'}</span>\r\n                  </div>\r\n                  <div className=\"detail-item\">\r\n                    <label>é¦–é€‰è”ç³»æ–¹å¼:</label>\r\n                    <span>\r\n                      {selectedRequest.contactMethod === 'phone' && 'ç”µè¯'}\r\n                      {selectedRequest.contactMethod === 'email' && 'é‚®ç®±'}\r\n                      {selectedRequest.contactMethod === 'both' && 'ç”µè¯å’Œé‚®ç®±'}\r\n                      {!selectedRequest.contactMethod && 'æœªè®¾ç½®'}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"modal-footer\">\r\n              <button className=\"btn btn-secondary\" onClick={closeRequestDetail}>\r\n                å…³é—­\r\n              </button>\r\n              <button className=\"btn btn-primary\" onClick={() => {\r\n                closeRequestDetail();\r\n                handleEditRequest(selectedRequest);\r\n              }}>\r\n                ç¼–è¾‘è¯·æ±‚\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* ç¼–è¾‘è¯·æ±‚æ¨¡æ€æ¡† */}\r\n      {showEditModal && editingRequest && (\r\n        <div className=\"modal-overlay\" onClick={closeEditModal}>\r\n          <div className=\"modal-content large-modal\" onClick={(e) => e.stopPropagation()}>\r\n            <div className=\"modal-header\">\r\n              <h3>ç¼–è¾‘è¯·æ±‚</h3>\r\n              <button className=\"modal-close\" onClick={closeEditModal}>Ã—</button>\r\n            </div>\r\n            <div className=\"modal-body\">\r\n              <form className=\"edit-form\">\r\n                <div className=\"form-group\">\r\n                  <label>è¯·æ±‚æ ‡é¢˜</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={editingRequest.title}\r\n                    onChange={(e) => setEditingRequest({\r\n                      ...editingRequest,\r\n                      title: e.target.value\r\n                    })}\r\n                    className=\"form-input\"\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label>è¯¦ç»†æè¿°</label>\r\n                  <textarea\r\n                    value={editingRequest.description}\r\n                    onChange={(e) => setEditingRequest({\r\n                      ...editingRequest,\r\n                      description: e.target.value\r\n                    })}\r\n                    className=\"form-textarea\"\r\n                    rows={4}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-grid\">\r\n                  <div className=\"form-group\">\r\n                    <label>ç´§æ€¥ç¨‹åº¦</label>\r\n                    <select\r\n                      value={editingRequest.urgency}\r\n                      onChange={(e) => setEditingRequest({\r\n                        ...editingRequest,\r\n                        urgency: e.target.value\r\n                      })}\r\n                      className=\"form-select\"\r\n                    >\r\n                      <option value=\"low\">ä½</option>\r\n                      <option value=\"medium\">ä¸­</option>\r\n                      <option value=\"high\">é«˜</option>\r\n                      <option value=\"urgent\">ç´§æ€¥</option>\r\n                    </select>\r\n                  </div>\r\n\r\n                  <div className=\"form-group\">\r\n                    <label>çŠ¶æ€</label>\r\n                    <select\r\n                      value={editingRequest.status}\r\n                      onChange={(e) => setEditingRequest({\r\n                        ...editingRequest,\r\n                        status: e.target.value\r\n                      })}\r\n                      className=\"form-select\"\r\n                    >\r\n                      <option value=\"pending\">å¾…å¤„ç†</option>\r\n                      <option value=\"matched\">å·²åŒ¹é…</option>\r\n                      <option value=\"completed\">å·²å®Œæˆ</option>\r\n                      <option value=\"cancelled\">å·²å–æ¶ˆ</option>\r\n                      <option value=\"frozen\">å·²å†»ç»“</option>\r\n                    </select>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label>æœåŠ¡åœ°ç‚¹</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={editingRequest.location?.address || editingRequest.location || ''}\r\n                    onChange={(e) => setEditingRequest({\r\n                      ...editingRequest,\r\n                      location: e.target.value\r\n                    })}\r\n                    className=\"form-input\"\r\n                  />\r\n                </div>\r\n\r\n                {editingRequest.status === 'matched' && (\r\n                  <div className=\"form-group\">\r\n                    <label>å¿—æ„¿è€…</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={editingRequest.volunteer || ''}\r\n                      onChange={(e) => setEditingRequest({\r\n                        ...editingRequest,\r\n                        volunteer: e.target.value\r\n                      })}\r\n                      className=\"form-input\"\r\n                    />\r\n                  </div>\r\n                )}\r\n              </form>\r\n            </div>\r\n            <div className=\"modal-footer\">\r\n              <button className=\"btn btn-secondary\" onClick={closeEditModal}>\r\n                å–æ¶ˆ\r\n              </button>\r\n              <button className=\"btn btn-primary\" onClick={handleSaveEditedRequest}>\r\n                ä¿å­˜æ›´æ”¹\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CategoryManagement;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}