{"ast":null,"code":"import _objectSpread from\"D:/Study/Git/CSIT314-GP/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// src/context/AuthContext.jsx\nimport React,{createContext,useContext,useState,useEffect}from'react';import{AUTH_CONFIG,isAdminEmail}from'../config/auth';import apiService from'../services/apiService';import{jsx as _jsx}from\"react/jsx-runtime\";const AuthContext=/*#__PURE__*/createContext();export const useAuth=()=>{const context=useContext(AuthContext);if(!context){throw new Error('useAuth must be used within an AuthProvider');}return context;};export const AuthProvider=_ref=>{let{children}=_ref;const[user,setUser]=useState(null);const[loading,setLoading]=useState(true);useEffect(()=>{// 检查本地存储中是否有用户信息\nconst savedUser=localStorage.getItem('user');const savedToken=localStorage.getItem('token');if(savedUser){setUser(JSON.parse(savedUser));}if(savedToken){// 设置apiService的认证token\napiService.setToken(savedToken);}setLoading(false);},[]);const login=async(email,password,userType)=>{try{setLoading(true);// 使用后端API登录\nconst response=await apiService.login({email,password,userType:userType});if(response.data&&response.data.user&&response.data.token){// 存储用户信息和token\nconst userData={id:response.data.user.id,name:response.data.user.name,email:response.data.user.email,userType:response.data.user.userType,phone:response.data.user.phone,address:response.data.user.address,organization:response.data.user.organization,skills:response.data.user.skills,status:response.data.user.status,createdAt:response.data.user.createdAt,lastLogin:response.data.user.lastLogin};setUser(userData);localStorage.setItem('user',JSON.stringify(userData));localStorage.setItem('token',response.data.token);// 设置apiService的认证token\napiService.setToken(response.data.token);// 更新registeredUsers到localStorage供管理员查看\nconst registeredUsers=JSON.parse(localStorage.getItem('registeredUsers')||'[]');const existingUserIndex=registeredUsers.findIndex(u=>u.id===userData.id);if(existingUserIndex>=0){// 更新现有用户信息，特别是lastLogin时间\nregisteredUsers[existingUserIndex]=_objectSpread(_objectSpread({},registeredUsers[existingUserIndex]),userData);}else{// 如果用户不存在，添加到列表中\nregisteredUsers.push(userData);}localStorage.setItem('registeredUsers',JSON.stringify(registeredUsers));return{success:true,user:userData};}else{return{success:false,errorCode:'INVALID_CREDENTIALS'};}}catch(error){console.error('Login error:',error);if(error.message.includes('Invalid credentials')){return{success:false,errorCode:'INVALID_CREDENTIALS'};}if(error.message.includes('User not found')){return{success:false,errorCode:'USER_NOT_EXISTS'};}return{success:false,error:error.message};}finally{setLoading(false);}};const register=async formData=>{try{setLoading(true);// 使用后端API注册用户\nconst response=await apiService.register({name:formData.name,email:formData.email,password:formData.password,userType:formData.userType,phone:formData.phone,address:formData.address,organization:formData.organization,skills:formData.skills,birthDate:formData.birthDate,emergencyContact:formData.emergencyContact});// 注册成功后自动登录\nif(response.data&&response.data.user&&response.data.token){// 存储用户信息和token\nconst userData={id:response.data.user.id,name:response.data.user.name,email:response.data.user.email,userType:response.data.user.userType,phone:response.data.user.phone,address:response.data.user.address,organization:response.data.user.organization,skills:response.data.user.skills,status:response.data.user.status,createdAt:response.data.user.createdAt};setUser(userData);localStorage.setItem('user',JSON.stringify(userData));localStorage.setItem('token',response.data.token);// 设置apiService的认证token\napiService.setToken(response.data.token);// 更新registeredUsers到localStorage供管理员查看\nconst registeredUsers=JSON.parse(localStorage.getItem('registeredUsers')||'[]');const existingUserIndex=registeredUsers.findIndex(u=>u.id===userData.id);if(existingUserIndex===-1){registeredUsers.push(userData);localStorage.setItem('registeredUsers',JSON.stringify(registeredUsers));}return{success:true};}else{return{success:false,error:'Registration failed'};}}catch(error){console.error('Registration error:',error);if(error.message.includes('User already exists')){return{success:false,errorCode:'EMAIL_ALREADY_EXISTS'};}return{success:false,error:error.message};}finally{setLoading(false);}};const updateProfile=async profileData=>{try{setLoading(true);// 这里可以调用后端API更新用户资料\n// const response = await apiService.updateProfile(profileData);\n// 目前使用本地存储模拟\nconst updatedUser=_objectSpread(_objectSpread(_objectSpread({},user),profileData),{},{updatedAt:new Date().toISOString()});setUser(updatedUser);localStorage.setItem('user',JSON.stringify(updatedUser));// 同时更新registeredUsers中的用户信息\nconst registeredUsers=JSON.parse(localStorage.getItem('registeredUsers')||'[]');const userIndex=registeredUsers.findIndex(u=>u.id===user.id);if(userIndex>=0){registeredUsers[userIndex]=updatedUser;localStorage.setItem('registeredUsers',JSON.stringify(registeredUsers));}return{success:true};}catch(error){console.error('Profile update error:',error);return{success:false,error:error.message};}finally{setLoading(false);}};const logout=async()=>{try{await apiService.logout();}catch(error){console.error('Logout error:',error);}setUser(null);localStorage.removeItem('user');localStorage.removeItem('token');// 清除apiService的认证token\napiService.setToken(null);};return/*#__PURE__*/_jsx(AuthContext.Provider,{value:{user,login,register,logout,updateProfile,loading},children:children});};","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","AUTH_CONFIG","isAdminEmail","apiService","jsx","_jsx","AuthContext","useAuth","context","Error","AuthProvider","_ref","children","user","setUser","loading","setLoading","savedUser","localStorage","getItem","savedToken","JSON","parse","setToken","login","email","password","userType","response","data","token","userData","id","name","phone","address","organization","skills","status","createdAt","lastLogin","setItem","stringify","registeredUsers","existingUserIndex","findIndex","u","_objectSpread","push","success","errorCode","error","console","message","includes","register","formData","birthDate","emergencyContact","updateProfile","profileData","updatedUser","updatedAt","Date","toISOString","userIndex","logout","removeItem","Provider","value"],"sources":["D:/Study/Git/CSIT314-GP/src/context/AuthContext.jsx"],"sourcesContent":["// src/context/AuthContext.jsx\r\nimport React, { createContext, useContext, useState, useEffect } from 'react';\r\nimport { AUTH_CONFIG, isAdminEmail } from '../config/auth';\r\nimport apiService from '../services/apiService';\r\n\r\nconst AuthContext = createContext();\r\n\r\nexport const useAuth = () => {\r\n  const context = useContext(AuthContext);\r\n  if (!context) {\r\n    throw new Error('useAuth must be used within an AuthProvider');\r\n  }\r\n  return context;\r\n};\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n  const [user, setUser] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  \r\n  useEffect(() => {\r\n    // 检查本地存储中是否有用户信息\r\n    const savedUser = localStorage.getItem('user');\r\n    const savedToken = localStorage.getItem('token');\r\n    \r\n    if (savedUser) {\r\n      setUser(JSON.parse(savedUser));\r\n    }\r\n    \r\n    if (savedToken) {\r\n      // 设置apiService的认证token\r\n      apiService.setToken(savedToken);\r\n    }\r\n    \r\n    setLoading(false);\r\n  }, []);\r\n  \r\n  const login = async (email, password, userType) => {\r\n    try {\r\n      setLoading(true);\r\n      \r\n      // 使用后端API登录\r\n      const response = await apiService.login({\r\n        email,\r\n        password,\r\n        userType: userType\r\n      });\r\n      \r\n      if (response.data && response.data.user && response.data.token) {\r\n        // 存储用户信息和token\r\n        const userData = {\r\n          id: response.data.user.id,\r\n          name: response.data.user.name,\r\n          email: response.data.user.email,\r\n          userType: response.data.user.userType,\r\n          phone: response.data.user.phone,\r\n          address: response.data.user.address,\r\n          organization: response.data.user.organization,\r\n          skills: response.data.user.skills,\r\n          status: response.data.user.status,\r\n          createdAt: response.data.user.createdAt,\r\n          lastLogin: response.data.user.lastLogin\r\n        };\r\n        \r\n        setUser(userData);\r\n        localStorage.setItem('user', JSON.stringify(userData));\r\n        localStorage.setItem('token', response.data.token);\r\n        \r\n        // 设置apiService的认证token\r\n        apiService.setToken(response.data.token);\r\n        \r\n        // 更新registeredUsers到localStorage供管理员查看\r\n        const registeredUsers = JSON.parse(localStorage.getItem('registeredUsers') || '[]');\r\n        const existingUserIndex = registeredUsers.findIndex(u => u.id === userData.id);\r\n        if (existingUserIndex >= 0) {\r\n          // 更新现有用户信息，特别是lastLogin时间\r\n          registeredUsers[existingUserIndex] = { ...registeredUsers[existingUserIndex], ...userData };\r\n        } else {\r\n          // 如果用户不存在，添加到列表中\r\n          registeredUsers.push(userData);\r\n        }\r\n        localStorage.setItem('registeredUsers', JSON.stringify(registeredUsers));\r\n        \r\n        return { success: true, user: userData };\r\n      } else {\r\n        return { success: false, errorCode: 'INVALID_CREDENTIALS' };\r\n      }\r\n    } catch (error) {\r\n      console.error('Login error:', error);\r\n      if (error.message.includes('Invalid credentials')) {\r\n        return { success: false, errorCode: 'INVALID_CREDENTIALS' };\r\n      }\r\n      if (error.message.includes('User not found')) {\r\n        return { success: false, errorCode: 'USER_NOT_EXISTS' };\r\n      }\r\n      return { success: false, error: error.message };\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n  \r\n  const register = async (formData) => {\r\n    try {\r\n      setLoading(true);\r\n      \r\n      // 使用后端API注册用户\r\n      const response = await apiService.register({\r\n        name: formData.name,\r\n        email: formData.email,\r\n        password: formData.password,\r\n        userType: formData.userType,\r\n        phone: formData.phone,\r\n        address: formData.address,\r\n        organization: formData.organization,\r\n        skills: formData.skills,\r\n        birthDate: formData.birthDate,\r\n        emergencyContact: formData.emergencyContact\r\n      });\r\n      \r\n      // 注册成功后自动登录\r\n      if (response.data && response.data.user && response.data.token) {\r\n        // 存储用户信息和token\r\n        const userData = {\r\n          id: response.data.user.id,\r\n          name: response.data.user.name,\r\n          email: response.data.user.email,\r\n          userType: response.data.user.userType,\r\n          phone: response.data.user.phone,\r\n          address: response.data.user.address,\r\n          organization: response.data.user.organization,\r\n          skills: response.data.user.skills,\r\n          status: response.data.user.status,\r\n          createdAt: response.data.user.createdAt\r\n        };\r\n        \r\n        setUser(userData);\r\n        localStorage.setItem('user', JSON.stringify(userData));\r\n        localStorage.setItem('token', response.data.token);\r\n        \r\n        // 设置apiService的认证token\r\n        apiService.setToken(response.data.token);\r\n        \r\n        // 更新registeredUsers到localStorage供管理员查看\r\n        const registeredUsers = JSON.parse(localStorage.getItem('registeredUsers') || '[]');\r\n        const existingUserIndex = registeredUsers.findIndex(u => u.id === userData.id);\r\n        if (existingUserIndex === -1) {\r\n          registeredUsers.push(userData);\r\n          localStorage.setItem('registeredUsers', JSON.stringify(registeredUsers));\r\n        }\r\n        \r\n        return { success: true };\r\n      } else {\r\n        return { success: false, error: 'Registration failed' };\r\n      }\r\n    } catch (error) {\r\n      console.error('Registration error:', error);\r\n      if (error.message.includes('User already exists')) {\r\n        return { success: false, errorCode: 'EMAIL_ALREADY_EXISTS' };\r\n      }\r\n      return { success: false, error: error.message };\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n  \r\n  const updateProfile = async (profileData) => {\r\n    try {\r\n      setLoading(true);\r\n      \r\n      // 这里可以调用后端API更新用户资料\r\n      // const response = await apiService.updateProfile(profileData);\r\n      \r\n      // 目前使用本地存储模拟\r\n      const updatedUser = {\r\n        ...user,\r\n        ...profileData,\r\n        updatedAt: new Date().toISOString()\r\n      };\r\n      \r\n      setUser(updatedUser);\r\n      localStorage.setItem('user', JSON.stringify(updatedUser));\r\n      \r\n      // 同时更新registeredUsers中的用户信息\r\n      const registeredUsers = JSON.parse(localStorage.getItem('registeredUsers') || '[]');\r\n      const userIndex = registeredUsers.findIndex(u => u.id === user.id);\r\n      if (userIndex >= 0) {\r\n        registeredUsers[userIndex] = updatedUser;\r\n        localStorage.setItem('registeredUsers', JSON.stringify(registeredUsers));\r\n      }\r\n      \r\n      return { success: true };\r\n    } catch (error) {\r\n      console.error('Profile update error:', error);\r\n      return { success: false, error: error.message };\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const logout = async () => {\r\n    try {\r\n      await apiService.logout();\r\n    } catch (error) {\r\n      console.error('Logout error:', error);\r\n    }\r\n    setUser(null);\r\n    localStorage.removeItem('user');\r\n    localStorage.removeItem('token');\r\n    \r\n    // 清除apiService的认证token\r\n    apiService.setToken(null);\r\n  };\r\n  \r\n  return (\r\n    <AuthContext.Provider value={{ user, login, register, logout, updateProfile, loading }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}