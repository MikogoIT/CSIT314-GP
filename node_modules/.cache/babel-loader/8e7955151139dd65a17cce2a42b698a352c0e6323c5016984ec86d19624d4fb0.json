{"ast":null,"code":"// Áªü‰∏ÄÊï∞ÊçÆÊúçÂä° - Áé∞Âú®‰ΩøÁî®ÂêéÁ´ØAPIËÄå‰∏çÊòØlocalStorage\n// src/services/dataService.js\n\nimport apiService from './apiService';\nexport class DataService {\n  // Ê£ÄÊü•ÁºìÂ≠òÊòØÂê¶ÊúâÊïà\n  static isCacheValid(key) {\n    const lastFetch = this.cache.lastFetch[key];\n    return lastFetch && Date.now() - lastFetch < this.CACHE_DURATION;\n  }\n\n  // Êõ¥Êñ∞ÁºìÂ≠ò\n  static updateCache(key, data) {\n    this.cache[key] = data;\n    this.cache.lastFetch[key] = Date.now();\n  }\n\n  // Ê∏ÖÁ©∫ÁºìÂ≠ò\n  static clearCache(key = null) {\n    if (key) {\n      this.cache[key] = null;\n      delete this.cache.lastFetch[key];\n    } else {\n      this.cache = {\n        categories: null,\n        users: null,\n        requests: null,\n        shortlists: null,\n        lastFetch: {}\n      };\n    }\n  }\n\n  // ÂàÜÁ±ªÊï∞ÊçÆ\n  static async getCategories() {\n    try {\n      // Ê£ÄÊü•ÁºìÂ≠ò\n      if (this.isCacheValid('categories') && this.cache.categories) {\n        return this.cache.categories;\n      }\n      const categories = await apiService.getCategories();\n\n      // ËΩ¨Êç¢Êï∞ÊçÆÊ†ºÂºè‰ª•ÂÖºÂÆπÁé∞Êúâ‰ª£Á†Å\n      const formattedCategories = categories.map(cat => ({\n        id: cat.name || cat._id,\n        name: `category.${cat.name}`,\n        icon: cat.icon || 'üìÅ',\n        color: this.getColorFromHex(cat.color || '#42a5f5')\n      }));\n      this.updateCache('categories', formattedCategories);\n      return formattedCategories;\n    } catch (error) {\n      console.error('Ëé∑ÂèñÂàÜÁ±ªÂ§±Ë¥•Ôºå‰ΩøÁî®ÈªòËÆ§Êï∞ÊçÆ:', error);\n      // ‰ΩøÁî®ÈªòËÆ§Êï∞ÊçÆ‰Ωú‰∏∫ÂêéÂ§á\n      const defaultCategories = [{\n        id: 'medical',\n        name: 'category.medical',\n        icon: 'üè•'\n      }, {\n        id: 'transportation',\n        name: 'category.transport',\n        icon: 'üöó'\n      }, {\n        id: 'shopping',\n        name: 'category.shopping',\n        icon: 'üõí'\n      }, {\n        id: 'household',\n        name: 'category.household',\n        icon: 'üè†'\n      }, {\n        id: 'companion',\n        name: 'category.companion',\n        icon: 'üë•'\n      }, {\n        id: 'technology',\n        name: 'category.technology',\n        icon: 'üíª'\n      }, {\n        id: 'education',\n        name: 'category.education',\n        icon: 'üìö'\n      }, {\n        id: 'other',\n        name: 'category.other',\n        icon: 'üìù'\n      }];\n      return defaultCategories;\n    }\n  }\n\n  // Â∞ÜÂçÅÂÖ≠ËøõÂà∂È¢úËâ≤ËΩ¨Êç¢‰∏∫ËØ≠‰πâÂåñÈ¢úËâ≤Âêç\n  static getColorFromHex(hexColor) {\n    const colorMap = {\n      '#ff4757': 'danger',\n      '#ffa726': 'warning',\n      '#42a5f5': 'primary',\n      '#66bb6a': 'success',\n      '#ab47bc': 'info',\n      '#26c6da': 'secondary'\n    };\n    return colorMap[hexColor] || 'primary';\n  }\n\n  // Á¥ßÊÄ•Á®ãÂ∫¶Êï∞ÊçÆ\n  static getUrgencyLevels() {\n    return [{\n      id: 'low',\n      name: 'urgency.low',\n      color: 'success'\n    }, {\n      id: 'medium',\n      name: 'urgency.medium',\n      color: 'warning'\n    }, {\n      id: 'high',\n      name: 'urgency.high',\n      color: 'danger'\n    }, {\n      id: 'urgent',\n      name: 'urgency.urgent',\n      color: 'critical'\n    }];\n  }\n\n  // Áä∂ÊÄÅÊï∞ÊçÆ\n  static getStatusOptions() {\n    return [{\n      id: 'pending',\n      name: 'status.pending',\n      color: 'warning'\n    }, {\n      id: 'matched',\n      name: 'status.matched',\n      color: 'success'\n    }, {\n      id: 'completed',\n      name: 'status.completed',\n      color: 'info'\n    }, {\n      id: 'cancelled',\n      name: 'status.cancelled',\n      color: 'danger'\n    }];\n  }\n\n  // Ëé∑ÂèñÁî®Êà∑Êï∞ÊçÆ\n  static getUsers() {\n    return JSON.parse(localStorage.getItem('registeredUsers') || '[]');\n  }\n\n  // Ëé∑ÂèñËØ∑Ê±ÇÊï∞ÊçÆ\n  static getRequests() {\n    return JSON.parse(localStorage.getItem('userRequests') || '[]');\n  }\n\n  // Ëé∑ÂèñÊî∂ËóèÂ§πÊï∞ÊçÆ\n  static getShortlists() {\n    return JSON.parse(localStorage.getItem('shortlists') || '[]');\n  }\n\n  // ‰øùÂ≠òÂàÜÁ±ªÊï∞ÊçÆ\n  static saveCategories(categories) {\n    localStorage.setItem('categories', JSON.stringify(categories));\n  }\n\n  // ‰øùÂ≠òÁî®Êà∑Êï∞ÊçÆ\n  static saveUsers(users) {\n    localStorage.setItem('registeredUsers', JSON.stringify(users));\n  }\n\n  // ‰øùÂ≠òËØ∑Ê±ÇÊï∞ÊçÆ\n  static saveRequests(requests) {\n    localStorage.setItem('userRequests', JSON.stringify(requests));\n  }\n\n  // ‰øùÂ≠òÊî∂ËóèÂ§πÊï∞ÊçÆ\n  static saveShortlists(shortlists) {\n    localStorage.setItem('shortlists', JSON.stringify(shortlists));\n  }\n\n  // Ê†πÊçÆÂàÜÁ±ªIDËé∑ÂèñÂàÜÁ±ªÂêçÁß∞\n  static getCategoryById(categoryId) {\n    const categories = this.getCategories();\n    const category = categories.find(cat => cat.id === categoryId);\n    return category || {\n      id: categoryId,\n      name: 'category.other',\n      icon: 'üìù'\n    };\n  }\n\n  // Ê†πÊçÆÁ¥ßÊÄ•Á®ãÂ∫¶IDËé∑ÂèñÁ¥ßÊÄ•Á®ãÂ∫¶\n  static getUrgencyById(urgencyId) {\n    const urgencyLevels = this.getUrgencyLevels();\n    return urgencyLevels.find(level => level.id === urgencyId) || {\n      id: urgencyId,\n      name: 'urgency.medium',\n      color: 'warning'\n    };\n  }\n\n  // Ê†πÊçÆÁä∂ÊÄÅIDËé∑ÂèñÁä∂ÊÄÅ\n  static getStatusById(statusId) {\n    const statuses = this.getStatusOptions();\n    return statuses.find(status => status.id === statusId) || {\n      id: statusId,\n      name: 'status.pending',\n      color: 'warning'\n    };\n  }\n\n  // Ëé∑ÂèñÁî®Êà∑ÁöÑËØ∑Ê±Ç\n  static getUserRequests(userId) {\n    const allRequests = this.getRequests();\n    return allRequests.filter(request => request.requesterId === userId);\n  }\n\n  // Ëé∑ÂèñÁî®Êà∑ÁöÑÊî∂ËóèÂ§π\n  static getUserShortlists(userId) {\n    const allShortlists = this.getShortlists();\n    return allShortlists.filter(shortlist => shortlist.userId === userId);\n  }\n\n  // Êó∂Èó¥Ê†ºÂºèÂåñÂ∑•ÂÖ∑\n  static getTimeAgo(dateString, t = null) {\n    if (!dateString) return t ? t('common.unknown') : 'Êú™Áü•';\n    const now = new Date();\n    const past = new Date(dateString);\n    const diffInMinutes = Math.floor((now - past) / (1000 * 60));\n    const diffInHours = Math.floor(diffInMinutes / 60);\n    const diffInDays = Math.floor(diffInHours / 24);\n    if (diffInMinutes < 1) {\n      return t ? t('time.justNow') : 'ÂàöÂàö';\n    }\n    if (diffInMinutes < 60) {\n      return t ? t('time.minutesAgo', {\n        count: diffInMinutes\n      }) : `${diffInMinutes}ÂàÜÈíüÂâç`;\n    }\n    if (diffInHours < 24) {\n      return t ? t('time.hoursAgo', {\n        count: diffInHours\n      }) : `${diffInHours}Â∞èÊó∂Ââç`;\n    }\n    if (diffInDays < 7) {\n      return t ? t('time.daysAgo', {\n        count: diffInDays\n      }) : `${diffInDays}Â§©Ââç`;\n    }\n    const diffInWeeks = Math.floor(diffInDays / 7);\n    return t ? t('time.weeksAgo', {\n      count: diffInWeeks\n    }) : `${diffInWeeks}Âë®Ââç`;\n  }\n\n  // ÂàùÂßãÂåñÁ§∫‰æãÊï∞ÊçÆ\n  static initializeData() {\n    // Â¶ÇÊûúÊ≤°ÊúâÊï∞ÊçÆÔºåÂàõÂª∫‰∏Ä‰∫õÁ§∫‰æãÊï∞ÊçÆ\n    if (this.getUsers().length === 0) {\n      const sampleUsers = [{\n        id: 1,\n        name: 'Âº†‰∏â',\n        email: 'zhang@example.com',\n        password: '123456',\n        userType: 'pin',\n        status: 'active',\n        phone: '138****1234',\n        address: 'Âåó‰∫¨Â∏ÇÊúùÈò≥Âå∫',\n        registeredAt: new Date(Date.now() - 7 * 24 * 60 * 60 * 1000).toISOString()\n      }, {\n        id: 2,\n        name: 'ÊùéÂõõ',\n        email: 'li@example.com',\n        password: '123456',\n        userType: 'csr',\n        status: 'active',\n        phone: '139****5678',\n        address: '‰∏äÊµ∑Â∏ÇÊµ¶‰∏úÂå∫',\n        organization: 'ÂøóÊÑøËÄÖÂçè‰ºö',\n        skills: ['ÂåªÁñóÈô™Âêå', '‰∫§ÈÄöÂ∏ÆÂä©'],\n        registeredAt: new Date(Date.now() - 3 * 24 * 60 * 60 * 1000).toISOString()\n      }, {\n        id: 3,\n        name: 'Áéã‰∫î',\n        email: 'wang@example.com',\n        password: '123456',\n        userType: 'pin',\n        status: 'active',\n        phone: '137****9012',\n        address: 'ÂπøÂ∑ûÂ∏ÇÂ§©Ê≤≥Âå∫',\n        registeredAt: new Date(Date.now() - 1 * 60 * 60 * 1000).toISOString()\n      }];\n      this.saveUsers(sampleUsers);\n    }\n    if (this.getRequests().length === 0) {\n      const sampleRequests = [{\n        id: 1,\n        title: 'ÈúÄË¶ÅÂåªÈô¢Èô™ÂêåÊúçÂä°',\n        description: '‰∏ãÂë®‰∫åÈúÄË¶ÅÂéªÂåªÈô¢Â§çÊü•ÔºåÂ∏åÊúõÊúâÂøóÊÑøËÄÖÈô™Âêå',\n        category: 'medical',\n        urgency: 'medium',\n        location: 'Âåó‰∫¨Â∏ÇÊúùÈò≥Âå∫‰∫∫Ê∞ëÂåªÈô¢',\n        expectedDate: new Date(Date.now() + 2 * 24 * 60 * 60 * 1000).toISOString().split('T')[0],\n        expectedTime: '14:00',\n        volunteersNeeded: 1,\n        status: 'pending',\n        requesterId: 1,\n        requesterName: 'Âº†‰∏â',\n        requesterEmail: 'zhang@example.com',\n        requesterPhone: '138****1234',\n        requesterAddress: 'Âåó‰∫¨Â∏ÇÊúùÈò≥Âå∫',\n        viewCount: 15,\n        shortlistCount: 3,\n        createdAt: new Date(Date.now() - 2 * 24 * 60 * 60 * 1000).toISOString()\n      }, {\n        id: 2,\n        title: 'Ë¥≠Áâ©Â∏ÆÂä©',\n        description: 'ÈúÄË¶ÅÂ∏ÆÂøôÈááË¥≠Êó•Áî®ÂìÅÂíåÈ£üÁâ©',\n        category: 'shopping',\n        urgency: 'low',\n        location: 'ÂπøÂ∑ûÂ∏ÇÂ§©Ê≤≥Âå∫',\n        expectedDate: new Date(Date.now() + 1 * 24 * 60 * 60 * 1000).toISOString().split('T')[0],\n        expectedTime: '10:00',\n        volunteersNeeded: 1,\n        status: 'matched',\n        requesterId: 3,\n        requesterName: 'Áéã‰∫î',\n        requesterEmail: 'wang@example.com',\n        requesterPhone: '137****9012',\n        requesterAddress: 'ÂπøÂ∑ûÂ∏ÇÂ§©Ê≤≥Âå∫',\n        volunteer: 'ÊùéÂõõ',\n        viewCount: 8,\n        shortlistCount: 1,\n        createdAt: new Date(Date.now() - 1 * 24 * 60 * 60 * 1000).toISOString(),\n        matchedAt: new Date(Date.now() - 2 * 60 * 60 * 1000).toISOString()\n      }];\n      this.saveRequests(sampleRequests);\n    }\n  }\n\n  // ÊêúÁ¥¢ÂíåËøáÊª§ÂäüËÉΩ\n  static filterRequests(requests, filters) {\n    return requests.filter(request => {\n      // ÊêúÁ¥¢ÊñáÊú¨ËøáÊª§\n      if (filters.searchText) {\n        const searchLower = filters.searchText.toLowerCase();\n        const matchesText = request.title.toLowerCase().includes(searchLower) || request.description.toLowerCase().includes(searchLower) || request.location.toLowerCase().includes(searchLower);\n        if (!matchesText) return false;\n      }\n\n      // ÂàÜÁ±ªËøáÊª§\n      if (filters.category && filters.category !== 'all') {\n        if (request.category !== filters.category) return false;\n      }\n\n      // Á¥ßÊÄ•Á®ãÂ∫¶ËøáÊª§\n      if (filters.urgency && filters.urgency !== 'all') {\n        if (request.urgency !== filters.urgency) return false;\n      }\n\n      // Áä∂ÊÄÅËøáÊª§\n      if (filters.status && filters.status !== 'all') {\n        if (request.status !== filters.status) return false;\n      }\n      return true;\n    });\n  }\n\n  // Ëé∑ÂèñÁªüËÆ°Êï∞ÊçÆ\n  static getStatistics(userId = null) {\n    const users = this.getUsers();\n    const requests = this.getRequests();\n    const shortlists = this.getShortlists();\n    if (userId) {\n      // Áî®Êà∑‰∏™‰∫∫ÁªüËÆ°\n      const userRequests = requests.filter(r => r.requesterId === userId);\n      const userShortlists = shortlists.filter(s => s.userId === userId);\n      return {\n        totalRequests: userRequests.length,\n        matched: userRequests.filter(r => r.status === 'matched').length,\n        pending: userRequests.filter(r => r.status === 'pending').length,\n        completed: userRequests.filter(r => r.status === 'completed').length,\n        totalViews: userRequests.reduce((sum, r) => sum + (r.viewCount || 0), 0),\n        totalShortlists: userShortlists.length\n      };\n    } else {\n      // Á≥ªÁªüÊï¥‰ΩìÁªüËÆ°\n      return {\n        totalUsers: users.length,\n        activeUsers: users.filter(u => u.status === 'active').length,\n        totalRequests: requests.length,\n        activeRequests: requests.filter(r => r.status === 'pending' || r.status === 'matched').length,\n        matchedRequests: requests.filter(r => r.status === 'matched').length,\n        completedRequests: requests.filter(r => r.status === 'completed').length,\n        totalShortlists: shortlists.length\n      };\n    }\n  }\n}\n// ÁºìÂ≠òÊï∞ÊçÆ\nDataService.cache = {\n  categories: null,\n  users: null,\n  requests: null,\n  shortlists: null,\n  lastFetch: {}\n};\n// ÁºìÂ≠òÊúâÊïàÊúüÔºà5ÂàÜÈíüÔºâ\nDataService.CACHE_DURATION = 5 * 60 * 1000;","map":{"version":3,"names":["apiService","DataService","isCacheValid","key","lastFetch","cache","Date","now","CACHE_DURATION","updateCache","data","clearCache","categories","users","requests","shortlists","getCategories","formattedCategories","map","cat","id","name","_id","icon","color","getColorFromHex","error","console","defaultCategories","hexColor","colorMap","getUrgencyLevels","getStatusOptions","getUsers","JSON","parse","localStorage","getItem","getRequests","getShortlists","saveCategories","setItem","stringify","saveUsers","saveRequests","saveShortlists","getCategoryById","categoryId","category","find","getUrgencyById","urgencyId","urgencyLevels","level","getStatusById","statusId","statuses","status","getUserRequests","userId","allRequests","filter","request","requesterId","getUserShortlists","allShortlists","shortlist","getTimeAgo","dateString","t","past","diffInMinutes","Math","floor","diffInHours","diffInDays","count","diffInWeeks","initializeData","length","sampleUsers","email","password","userType","phone","address","registeredAt","toISOString","organization","skills","sampleRequests","title","description","urgency","location","expectedDate","split","expectedTime","volunteersNeeded","requesterName","requesterEmail","requesterPhone","requesterAddress","viewCount","shortlistCount","createdAt","volunteer","matchedAt","filterRequests","filters","searchText","searchLower","toLowerCase","matchesText","includes","getStatistics","userRequests","r","userShortlists","s","totalRequests","matched","pending","completed","totalViews","reduce","sum","totalShortlists","totalUsers","activeUsers","u","activeRequests","matchedRequests","completedRequests"],"sources":["D:/Study/CSIT314-GP/src/services/dataService.js"],"sourcesContent":["// Áªü‰∏ÄÊï∞ÊçÆÊúçÂä° - Áé∞Âú®‰ΩøÁî®ÂêéÁ´ØAPIËÄå‰∏çÊòØlocalStorage\r\n// src/services/dataService.js\r\n\r\nimport apiService from './apiService';\r\n\r\nexport class DataService {\r\n  // ÁºìÂ≠òÊï∞ÊçÆ\r\n  static cache = {\r\n    categories: null,\r\n    users: null,\r\n    requests: null,\r\n    shortlists: null,\r\n    lastFetch: {}\r\n  };\r\n\r\n  // ÁºìÂ≠òÊúâÊïàÊúüÔºà5ÂàÜÈíüÔºâ\r\n  static CACHE_DURATION = 5 * 60 * 1000;\r\n\r\n  // Ê£ÄÊü•ÁºìÂ≠òÊòØÂê¶ÊúâÊïà\r\n  static isCacheValid(key) {\r\n    const lastFetch = this.cache.lastFetch[key];\r\n    return lastFetch && (Date.now() - lastFetch) < this.CACHE_DURATION;\r\n  }\r\n\r\n  // Êõ¥Êñ∞ÁºìÂ≠ò\r\n  static updateCache(key, data) {\r\n    this.cache[key] = data;\r\n    this.cache.lastFetch[key] = Date.now();\r\n  }\r\n\r\n  // Ê∏ÖÁ©∫ÁºìÂ≠ò\r\n  static clearCache(key = null) {\r\n    if (key) {\r\n      this.cache[key] = null;\r\n      delete this.cache.lastFetch[key];\r\n    } else {\r\n      this.cache = {\r\n        categories: null,\r\n        users: null,\r\n        requests: null,\r\n        shortlists: null,\r\n        lastFetch: {}\r\n      };\r\n    }\r\n  }\r\n\r\n  // ÂàÜÁ±ªÊï∞ÊçÆ\r\n  static async getCategories() {\r\n    try {\r\n      // Ê£ÄÊü•ÁºìÂ≠ò\r\n      if (this.isCacheValid('categories') && this.cache.categories) {\r\n        return this.cache.categories;\r\n      }\r\n\r\n      const categories = await apiService.getCategories();\r\n      \r\n      // ËΩ¨Êç¢Êï∞ÊçÆÊ†ºÂºè‰ª•ÂÖºÂÆπÁé∞Êúâ‰ª£Á†Å\r\n      const formattedCategories = categories.map(cat => ({\r\n        id: cat.name || cat._id,\r\n        name: `category.${cat.name}`,\r\n        icon: cat.icon || 'üìÅ',\r\n        color: this.getColorFromHex(cat.color || '#42a5f5')\r\n      }));\r\n\r\n      this.updateCache('categories', formattedCategories);\r\n      return formattedCategories;\r\n    } catch (error) {\r\n      console.error('Ëé∑ÂèñÂàÜÁ±ªÂ§±Ë¥•Ôºå‰ΩøÁî®ÈªòËÆ§Êï∞ÊçÆ:', error);\r\n      // ‰ΩøÁî®ÈªòËÆ§Êï∞ÊçÆ‰Ωú‰∏∫ÂêéÂ§á\r\n      const defaultCategories = [\r\n        { id: 'medical', name: 'category.medical', icon: 'üè•' },\r\n        { id: 'transportation', name: 'category.transport', icon: 'üöó' },\r\n        { id: 'shopping', name: 'category.shopping', icon: 'üõí' },\r\n        { id: 'household', name: 'category.household', icon: 'üè†' },\r\n        { id: 'companion', name: 'category.companion', icon: 'üë•' },\r\n        { id: 'technology', name: 'category.technology', icon: 'üíª' },\r\n        { id: 'education', name: 'category.education', icon: 'üìö' },\r\n        { id: 'other', name: 'category.other', icon: 'üìù' }\r\n      ];\r\n      return defaultCategories;\r\n    }\r\n  }\r\n\r\n  // Â∞ÜÂçÅÂÖ≠ËøõÂà∂È¢úËâ≤ËΩ¨Êç¢‰∏∫ËØ≠‰πâÂåñÈ¢úËâ≤Âêç\r\n  static getColorFromHex(hexColor) {\r\n    const colorMap = {\r\n      '#ff4757': 'danger',\r\n      '#ffa726': 'warning', \r\n      '#42a5f5': 'primary',\r\n      '#66bb6a': 'success',\r\n      '#ab47bc': 'info',\r\n      '#26c6da': 'secondary'\r\n    };\r\n    return colorMap[hexColor] || 'primary';\r\n  }\r\n\r\n  // Á¥ßÊÄ•Á®ãÂ∫¶Êï∞ÊçÆ\r\n  static getUrgencyLevels() {\r\n    return [\r\n      { id: 'low', name: 'urgency.low', color: 'success' },\r\n      { id: 'medium', name: 'urgency.medium', color: 'warning' },\r\n      { id: 'high', name: 'urgency.high', color: 'danger' },\r\n      { id: 'urgent', name: 'urgency.urgent', color: 'critical' }\r\n    ];\r\n  }\r\n\r\n  // Áä∂ÊÄÅÊï∞ÊçÆ\r\n  static getStatusOptions() {\r\n    return [\r\n      { id: 'pending', name: 'status.pending', color: 'warning' },\r\n      { id: 'matched', name: 'status.matched', color: 'success' },\r\n      { id: 'completed', name: 'status.completed', color: 'info' },\r\n      { id: 'cancelled', name: 'status.cancelled', color: 'danger' }\r\n    ];\r\n  }\r\n\r\n  // Ëé∑ÂèñÁî®Êà∑Êï∞ÊçÆ\r\n  static getUsers() {\r\n    return JSON.parse(localStorage.getItem('registeredUsers') || '[]');\r\n  }\r\n\r\n  // Ëé∑ÂèñËØ∑Ê±ÇÊï∞ÊçÆ\r\n  static getRequests() {\r\n    return JSON.parse(localStorage.getItem('userRequests') || '[]');\r\n  }\r\n\r\n  // Ëé∑ÂèñÊî∂ËóèÂ§πÊï∞ÊçÆ\r\n  static getShortlists() {\r\n    return JSON.parse(localStorage.getItem('shortlists') || '[]');\r\n  }\r\n\r\n  // ‰øùÂ≠òÂàÜÁ±ªÊï∞ÊçÆ\r\n  static saveCategories(categories) {\r\n    localStorage.setItem('categories', JSON.stringify(categories));\r\n  }\r\n\r\n  // ‰øùÂ≠òÁî®Êà∑Êï∞ÊçÆ\r\n  static saveUsers(users) {\r\n    localStorage.setItem('registeredUsers', JSON.stringify(users));\r\n  }\r\n\r\n  // ‰øùÂ≠òËØ∑Ê±ÇÊï∞ÊçÆ\r\n  static saveRequests(requests) {\r\n    localStorage.setItem('userRequests', JSON.stringify(requests));\r\n  }\r\n\r\n  // ‰øùÂ≠òÊî∂ËóèÂ§πÊï∞ÊçÆ\r\n  static saveShortlists(shortlists) {\r\n    localStorage.setItem('shortlists', JSON.stringify(shortlists));\r\n  }\r\n\r\n  // Ê†πÊçÆÂàÜÁ±ªIDËé∑ÂèñÂàÜÁ±ªÂêçÁß∞\r\n  static getCategoryById(categoryId) {\r\n    const categories = this.getCategories();\r\n    const category = categories.find(cat => cat.id === categoryId);\r\n    return category || { id: categoryId, name: 'category.other', icon: 'üìù' };\r\n  }\r\n\r\n  // Ê†πÊçÆÁ¥ßÊÄ•Á®ãÂ∫¶IDËé∑ÂèñÁ¥ßÊÄ•Á®ãÂ∫¶\r\n  static getUrgencyById(urgencyId) {\r\n    const urgencyLevels = this.getUrgencyLevels();\r\n    return urgencyLevels.find(level => level.id === urgencyId) || \r\n           { id: urgencyId, name: 'urgency.medium', color: 'warning' };\r\n  }\r\n\r\n  // Ê†πÊçÆÁä∂ÊÄÅIDËé∑ÂèñÁä∂ÊÄÅ\r\n  static getStatusById(statusId) {\r\n    const statuses = this.getStatusOptions();\r\n    return statuses.find(status => status.id === statusId) || \r\n           { id: statusId, name: 'status.pending', color: 'warning' };\r\n  }\r\n\r\n  // Ëé∑ÂèñÁî®Êà∑ÁöÑËØ∑Ê±Ç\r\n  static getUserRequests(userId) {\r\n    const allRequests = this.getRequests();\r\n    return allRequests.filter(request => request.requesterId === userId);\r\n  }\r\n\r\n  // Ëé∑ÂèñÁî®Êà∑ÁöÑÊî∂ËóèÂ§π\r\n  static getUserShortlists(userId) {\r\n    const allShortlists = this.getShortlists();\r\n    return allShortlists.filter(shortlist => shortlist.userId === userId);\r\n  }\r\n\r\n  // Êó∂Èó¥Ê†ºÂºèÂåñÂ∑•ÂÖ∑\r\n  static getTimeAgo(dateString, t = null) {\r\n    if (!dateString) return t ? t('common.unknown') : 'Êú™Áü•';\r\n    \r\n    const now = new Date();\r\n    const past = new Date(dateString);\r\n    const diffInMinutes = Math.floor((now - past) / (1000 * 60));\r\n    const diffInHours = Math.floor(diffInMinutes / 60);\r\n    const diffInDays = Math.floor(diffInHours / 24);\r\n    \r\n    if (diffInMinutes < 1) {\r\n      return t ? t('time.justNow') : 'ÂàöÂàö';\r\n    }\r\n    \r\n    if (diffInMinutes < 60) {\r\n      return t ? t('time.minutesAgo', { count: diffInMinutes }) : `${diffInMinutes}ÂàÜÈíüÂâç`;\r\n    }\r\n    \r\n    if (diffInHours < 24) {\r\n      return t ? t('time.hoursAgo', { count: diffInHours }) : `${diffInHours}Â∞èÊó∂Ââç`;\r\n    }\r\n    \r\n    if (diffInDays < 7) {\r\n      return t ? t('time.daysAgo', { count: diffInDays }) : `${diffInDays}Â§©Ââç`;\r\n    }\r\n    \r\n    const diffInWeeks = Math.floor(diffInDays / 7);\r\n    return t ? t('time.weeksAgo', { count: diffInWeeks }) : `${diffInWeeks}Âë®Ââç`;\r\n  }\r\n\r\n  // ÂàùÂßãÂåñÁ§∫‰æãÊï∞ÊçÆ\r\n  static initializeData() {\r\n    // Â¶ÇÊûúÊ≤°ÊúâÊï∞ÊçÆÔºåÂàõÂª∫‰∏Ä‰∫õÁ§∫‰æãÊï∞ÊçÆ\r\n    if (this.getUsers().length === 0) {\r\n      const sampleUsers = [\r\n        {\r\n          id: 1,\r\n          name: 'Âº†‰∏â',\r\n          email: 'zhang@example.com',\r\n          password: '123456',\r\n          userType: 'pin',\r\n          status: 'active',\r\n          phone: '138****1234',\r\n          address: 'Âåó‰∫¨Â∏ÇÊúùÈò≥Âå∫',\r\n          registeredAt: new Date(Date.now() - 7 * 24 * 60 * 60 * 1000).toISOString()\r\n        },\r\n        {\r\n          id: 2,\r\n          name: 'ÊùéÂõõ',\r\n          email: 'li@example.com',\r\n          password: '123456',\r\n          userType: 'csr',\r\n          status: 'active',\r\n          phone: '139****5678',\r\n          address: '‰∏äÊµ∑Â∏ÇÊµ¶‰∏úÂå∫',\r\n          organization: 'ÂøóÊÑøËÄÖÂçè‰ºö',\r\n          skills: ['ÂåªÁñóÈô™Âêå', '‰∫§ÈÄöÂ∏ÆÂä©'],\r\n          registeredAt: new Date(Date.now() - 3 * 24 * 60 * 60 * 1000).toISOString()\r\n        },\r\n        {\r\n          id: 3,\r\n          name: 'Áéã‰∫î',\r\n          email: 'wang@example.com',\r\n          password: '123456',\r\n          userType: 'pin',\r\n          status: 'active',\r\n          phone: '137****9012',\r\n          address: 'ÂπøÂ∑ûÂ∏ÇÂ§©Ê≤≥Âå∫',\r\n          registeredAt: new Date(Date.now() - 1 * 60 * 60 * 1000).toISOString()\r\n        }\r\n      ];\r\n      this.saveUsers(sampleUsers);\r\n    }\r\n\r\n    if (this.getRequests().length === 0) {\r\n      const sampleRequests = [\r\n        {\r\n          id: 1,\r\n          title: 'ÈúÄË¶ÅÂåªÈô¢Èô™ÂêåÊúçÂä°',\r\n          description: '‰∏ãÂë®‰∫åÈúÄË¶ÅÂéªÂåªÈô¢Â§çÊü•ÔºåÂ∏åÊúõÊúâÂøóÊÑøËÄÖÈô™Âêå',\r\n          category: 'medical',\r\n          urgency: 'medium',\r\n          location: 'Âåó‰∫¨Â∏ÇÊúùÈò≥Âå∫‰∫∫Ê∞ëÂåªÈô¢',\r\n          expectedDate: new Date(Date.now() + 2 * 24 * 60 * 60 * 1000).toISOString().split('T')[0],\r\n          expectedTime: '14:00',\r\n          volunteersNeeded: 1,\r\n          status: 'pending',\r\n          requesterId: 1,\r\n          requesterName: 'Âº†‰∏â',\r\n          requesterEmail: 'zhang@example.com',\r\n          requesterPhone: '138****1234',\r\n          requesterAddress: 'Âåó‰∫¨Â∏ÇÊúùÈò≥Âå∫',\r\n          viewCount: 15,\r\n          shortlistCount: 3,\r\n          createdAt: new Date(Date.now() - 2 * 24 * 60 * 60 * 1000).toISOString()\r\n        },\r\n        {\r\n          id: 2,\r\n          title: 'Ë¥≠Áâ©Â∏ÆÂä©',\r\n          description: 'ÈúÄË¶ÅÂ∏ÆÂøôÈááË¥≠Êó•Áî®ÂìÅÂíåÈ£üÁâ©',\r\n          category: 'shopping',\r\n          urgency: 'low',\r\n          location: 'ÂπøÂ∑ûÂ∏ÇÂ§©Ê≤≥Âå∫',\r\n          expectedDate: new Date(Date.now() + 1 * 24 * 60 * 60 * 1000).toISOString().split('T')[0],\r\n          expectedTime: '10:00',\r\n          volunteersNeeded: 1,\r\n          status: 'matched',\r\n          requesterId: 3,\r\n          requesterName: 'Áéã‰∫î',\r\n          requesterEmail: 'wang@example.com',\r\n          requesterPhone: '137****9012',\r\n          requesterAddress: 'ÂπøÂ∑ûÂ∏ÇÂ§©Ê≤≥Âå∫',\r\n          volunteer: 'ÊùéÂõõ',\r\n          viewCount: 8,\r\n          shortlistCount: 1,\r\n          createdAt: new Date(Date.now() - 1 * 24 * 60 * 60 * 1000).toISOString(),\r\n          matchedAt: new Date(Date.now() - 2 * 60 * 60 * 1000).toISOString()\r\n        }\r\n      ];\r\n      this.saveRequests(sampleRequests);\r\n    }\r\n  }\r\n\r\n  // ÊêúÁ¥¢ÂíåËøáÊª§ÂäüËÉΩ\r\n  static filterRequests(requests, filters) {\r\n    return requests.filter(request => {\r\n      // ÊêúÁ¥¢ÊñáÊú¨ËøáÊª§\r\n      if (filters.searchText) {\r\n        const searchLower = filters.searchText.toLowerCase();\r\n        const matchesText = \r\n          request.title.toLowerCase().includes(searchLower) ||\r\n          request.description.toLowerCase().includes(searchLower) ||\r\n          request.location.toLowerCase().includes(searchLower);\r\n        if (!matchesText) return false;\r\n      }\r\n\r\n      // ÂàÜÁ±ªËøáÊª§\r\n      if (filters.category && filters.category !== 'all') {\r\n        if (request.category !== filters.category) return false;\r\n      }\r\n\r\n      // Á¥ßÊÄ•Á®ãÂ∫¶ËøáÊª§\r\n      if (filters.urgency && filters.urgency !== 'all') {\r\n        if (request.urgency !== filters.urgency) return false;\r\n      }\r\n\r\n      // Áä∂ÊÄÅËøáÊª§\r\n      if (filters.status && filters.status !== 'all') {\r\n        if (request.status !== filters.status) return false;\r\n      }\r\n\r\n      return true;\r\n    });\r\n  }\r\n\r\n  // Ëé∑ÂèñÁªüËÆ°Êï∞ÊçÆ\r\n  static getStatistics(userId = null) {\r\n    const users = this.getUsers();\r\n    const requests = this.getRequests();\r\n    const shortlists = this.getShortlists();\r\n\r\n    if (userId) {\r\n      // Áî®Êà∑‰∏™‰∫∫ÁªüËÆ°\r\n      const userRequests = requests.filter(r => r.requesterId === userId);\r\n      const userShortlists = shortlists.filter(s => s.userId === userId);\r\n      \r\n      return {\r\n        totalRequests: userRequests.length,\r\n        matched: userRequests.filter(r => r.status === 'matched').length,\r\n        pending: userRequests.filter(r => r.status === 'pending').length,\r\n        completed: userRequests.filter(r => r.status === 'completed').length,\r\n        totalViews: userRequests.reduce((sum, r) => sum + (r.viewCount || 0), 0),\r\n        totalShortlists: userShortlists.length\r\n      };\r\n    } else {\r\n      // Á≥ªÁªüÊï¥‰ΩìÁªüËÆ°\r\n      return {\r\n        totalUsers: users.length,\r\n        activeUsers: users.filter(u => u.status === 'active').length,\r\n        totalRequests: requests.length,\r\n        activeRequests: requests.filter(r => r.status === 'pending' || r.status === 'matched').length,\r\n        matchedRequests: requests.filter(r => r.status === 'matched').length,\r\n        completedRequests: requests.filter(r => r.status === 'completed').length,\r\n        totalShortlists: shortlists.length\r\n      };\r\n    }\r\n  }\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}