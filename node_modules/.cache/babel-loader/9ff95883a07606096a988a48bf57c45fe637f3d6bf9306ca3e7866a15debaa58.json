{"ast":null,"code":"// API数据服务 - 替代localStorage，使用后端API\n// src/services/apiService.js\n\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\nclass ApiService {\n  constructor() {\n    this.token = localStorage.getItem('token');\n  }\n\n  // 设置认证token\n  setToken(token) {\n    this.token = token;\n    if (token) {\n      localStorage.setItem('token', token);\n    } else {\n      localStorage.removeItem('token');\n    }\n  }\n\n  // 获取请求头\n  getHeaders() {\n    const headers = {\n      'Content-Type': 'application/json'\n    };\n    if (this.token) {\n      headers.Authorization = `Bearer ${this.token}`;\n    }\n    return headers;\n  }\n\n  // 基础请求方法\n  async request(endpoint, options = {}) {\n    const url = `${API_BASE_URL}${endpoint}`;\n    const config = {\n      headers: this.getHeaders(),\n      ...options\n    };\n    try {\n      const response = await fetch(url, config);\n      const data = await response.json();\n      if (!response.ok) {\n        throw new Error(data.error || `HTTP error! status: ${response.status}`);\n      }\n      return data;\n    } catch (error) {\n      console.error(`API request failed: ${endpoint}`, error);\n      throw error;\n    }\n  }\n\n  // GET请求\n  async get(endpoint) {\n    return this.request(endpoint, {\n      method: 'GET'\n    });\n  }\n\n  // POST请求\n  async post(endpoint, data) {\n    return this.request(endpoint, {\n      method: 'POST',\n      body: JSON.stringify(data)\n    });\n  }\n\n  // PUT请求\n  async put(endpoint, data) {\n    return this.request(endpoint, {\n      method: 'PUT',\n      body: JSON.stringify(data)\n    });\n  }\n\n  // DELETE请求\n  async delete(endpoint) {\n    return this.request(endpoint, {\n      method: 'DELETE'\n    });\n  }\n\n  // 用户相关API\n  async getUsers() {\n    const response = await this.get('/users');\n    return response.data || [];\n  }\n  async getAllUsers(params = {}) {\n    var _response$data;\n    // 管理员获取所有用户的方法\n    // 默认获取所有数据（limit=1000），除非指定了分页参数\n    const queryParams = {\n      limit: 1000,\n      page: 1,\n      ...params\n    };\n    const response = await this.get('/admin/users', {\n      params: queryParams\n    });\n    // 后端返回的是 { users: [...], pagination: {...} }\n    return ((_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.users) || [];\n  }\n  async batchUpdateUsers(action, userIds) {\n    // 批量操作用户：suspend, activate, delete\n    const response = await this.post('/admin/users/batch', {\n      action,\n      userIds\n    });\n    return response.data;\n  }\n  async getUserById(id) {\n    const response = await this.get(`/users/${id}`);\n    return response.data;\n  }\n  async createUser(userData) {\n    const response = await this.post('/users', userData);\n    return response.data;\n  }\n  async updateUser(id, userData) {\n    const response = await this.put(`/users/${id}`, userData);\n    return response.data;\n  }\n  async deleteUser(id) {\n    await this.delete(`/users/${id}`);\n  }\n\n  // 分类相关API\n  async getCategories() {\n    var _response$data2;\n    const response = await this.get('/categories');\n    return ((_response$data2 = response.data) === null || _response$data2 === void 0 ? void 0 : _response$data2.categories) || [];\n  }\n  async getCategoryById(id) {\n    const response = await this.get(`/categories/${id}`);\n    return response.data;\n  }\n  async createCategory(categoryData) {\n    const response = await this.post('/categories', categoryData);\n    return response.data;\n  }\n  async updateCategory(id, categoryData) {\n    const response = await this.put(`/categories/${id}`, categoryData);\n    return response.data;\n  }\n  async deleteCategory(id) {\n    await this.delete(`/categories/${id}`);\n  }\n\n  // 请求相关API\n  async getRequests(params = {}) {\n    // 默认获取所有数据（limit=1000），除非指定了分页参数\n    const queryParams = {\n      limit: 1000,\n      page: 1,\n      ...params\n    };\n    const response = await this.get('/requests', {\n      params: queryParams\n    });\n    return response.data || [];\n  }\n  async getAllRequests(params = {}) {\n    var _response$data3;\n    // 管理员获取所有请求的方法 - 使用通用的 /requests 端点\n    // 默认获取所有数据（limit=1000），除非指定了分页参数\n    const queryParams = {\n      limit: 1000,\n      page: 1,\n      ...params\n    };\n    const response = await this.get('/requests', {\n      params: queryParams\n    });\n    // 后端返回的是 { requests: [...], pagination: {...} }\n    return ((_response$data3 = response.data) === null || _response$data3 === void 0 ? void 0 : _response$data3.requests) || [];\n  }\n  async getRequestById(id) {\n    const response = await this.get(`/requests/${id}`);\n    return response.data;\n  }\n  async createRequest(requestData) {\n    const response = await this.post('/requests', requestData);\n    return response.data;\n  }\n  async updateRequest(id, requestData) {\n    const response = await this.put(`/requests/${id}`, requestData);\n    return response.data;\n  }\n  async deleteRequest(id) {\n    await this.delete(`/requests/${id}`);\n  }\n  async getUserRequests(userId) {\n    var _response$data4;\n    // 对于PIN用户，后端会自动过滤到只显示该用户的请求\n    // 不需要传递userId参数，因为后端从JWT token中获取用户信息\n    const response = await this.get('/requests');\n    return ((_response$data4 = response.data) === null || _response$data4 === void 0 ? void 0 : _response$data4.requests) || [];\n  }\n  async matchRequest(requestId, volunteerId) {\n    const response = await this.post(`/requests/${requestId}/match`, {\n      volunteerId\n    });\n    return response.data;\n  }\n  async completeRequest(requestId, feedback = null) {\n    const response = await this.post(`/requests/${requestId}/complete`, {\n      feedback\n    });\n    return response.data;\n  }\n\n  // 认证相关API\n  async login(loginData) {\n    const response = await this.post('/auth/login', loginData);\n    if (response.data && response.data.token) {\n      this.setToken(response.data.token);\n    }\n    return response;\n  }\n  async register(userData) {\n    const response = await this.post('/auth/register', userData);\n    if (response.token) {\n      this.setToken(response.token);\n    }\n    return response;\n  }\n  async logout() {\n    this.setToken(null);\n  }\n  async getCurrentUser() {\n    const response = await this.get('/auth/me');\n    return response.data;\n  }\n\n  // 管理员相关API\n  async getAdminStats() {\n    const response = await this.get('/admin/stats');\n    return response.data;\n  }\n  async getAdminActivities() {\n    const response = await this.get('/admin/activities');\n    return response.data || [];\n  }\n\n  // 搜索相关API\n  async searchRequests(filters = {}) {\n    const queryParams = new URLSearchParams();\n    Object.entries(filters).forEach(([key, value]) => {\n      if (value !== undefined && value !== null && value !== '') {\n        queryParams.append(key, value);\n      }\n    });\n    const endpoint = `/requests/search${queryParams.toString() ? `?${queryParams}` : ''}`;\n    const response = await this.get(endpoint);\n    return response.data || [];\n  }\n\n  // 收藏相关API\n  async getShortlists(userId) {\n    const response = await this.get(`/users/${userId}/shortlist`);\n    return response.data || [];\n  }\n  async addToShortlist(userId, requestId) {\n    const response = await this.post(`/users/${userId}/shortlist`, {\n      requestId\n    });\n    return response.data;\n  }\n  async removeFromShortlist(userId, requestId) {\n    await this.delete(`/users/${userId}/shortlist/${requestId}`);\n  }\n}\n\n// 创建单例实例\nconst apiService = new ApiService();\nexport default apiService;","map":{"version":3,"names":["API_BASE_URL","process","env","REACT_APP_API_URL","ApiService","constructor","token","localStorage","getItem","setToken","setItem","removeItem","getHeaders","headers","Authorization","request","endpoint","options","url","config","response","fetch","data","json","ok","Error","error","status","console","get","method","post","body","JSON","stringify","put","delete","getUsers","getAllUsers","params","_response$data","queryParams","limit","page","users","batchUpdateUsers","action","userIds","getUserById","id","createUser","userData","updateUser","deleteUser","getCategories","_response$data2","categories","getCategoryById","createCategory","categoryData","updateCategory","deleteCategory","getRequests","getAllRequests","_response$data3","requests","getRequestById","createRequest","requestData","updateRequest","deleteRequest","getUserRequests","userId","_response$data4","matchRequest","requestId","volunteerId","completeRequest","feedback","login","loginData","register","logout","getCurrentUser","getAdminStats","getAdminActivities","searchRequests","filters","URLSearchParams","Object","entries","forEach","key","value","undefined","append","toString","getShortlists","addToShortlist","removeFromShortlist","apiService"],"sources":["D:/Study/CSIT314-GP/src/services/apiService.js"],"sourcesContent":["// API数据服务 - 替代localStorage，使用后端API\n// src/services/apiService.js\n\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\n\nclass ApiService {\n  constructor() {\n    this.token = localStorage.getItem('token');\n  }\n\n  // 设置认证token\n  setToken(token) {\n    this.token = token;\n    if (token) {\n      localStorage.setItem('token', token);\n    } else {\n      localStorage.removeItem('token');\n    }\n  }\n\n  // 获取请求头\n  getHeaders() {\n    const headers = {\n      'Content-Type': 'application/json',\n    };\n    \n    if (this.token) {\n      headers.Authorization = `Bearer ${this.token}`;\n    }\n    \n    return headers;\n  }\n\n  // 基础请求方法\n  async request(endpoint, options = {}) {\n    const url = `${API_BASE_URL}${endpoint}`;\n    const config = {\n      headers: this.getHeaders(),\n      ...options,\n    };\n\n    try {\n      const response = await fetch(url, config);\n      const data = await response.json();\n\n      if (!response.ok) {\n        throw new Error(data.error || `HTTP error! status: ${response.status}`);\n      }\n\n      return data;\n    } catch (error) {\n      console.error(`API request failed: ${endpoint}`, error);\n      throw error;\n    }\n  }\n\n  // GET请求\n  async get(endpoint) {\n    return this.request(endpoint, { method: 'GET' });\n  }\n\n  // POST请求\n  async post(endpoint, data) {\n    return this.request(endpoint, {\n      method: 'POST',\n      body: JSON.stringify(data),\n    });\n  }\n\n  // PUT请求\n  async put(endpoint, data) {\n    return this.request(endpoint, {\n      method: 'PUT',\n      body: JSON.stringify(data),\n    });\n  }\n\n  // DELETE请求\n  async delete(endpoint) {\n    return this.request(endpoint, { method: 'DELETE' });\n  }\n\n  // 用户相关API\n  async getUsers() {\n    const response = await this.get('/users');\n    return response.data || [];\n  }\n\n  async getAllUsers(params = {}) {\n    // 管理员获取所有用户的方法\n    // 默认获取所有数据（limit=1000），除非指定了分页参数\n    const queryParams = {\n      limit: 1000,\n      page: 1,\n      ...params\n    };\n    const response = await this.get('/admin/users', { params: queryParams });\n    // 后端返回的是 { users: [...], pagination: {...} }\n    return response.data?.users || [];\n  }\n\n  async batchUpdateUsers(action, userIds) {\n    // 批量操作用户：suspend, activate, delete\n    const response = await this.post('/admin/users/batch', {\n      action,\n      userIds\n    });\n    return response.data;\n  }\n\n  async getUserById(id) {\n    const response = await this.get(`/users/${id}`);\n    return response.data;\n  }\n\n  async createUser(userData) {\n    const response = await this.post('/users', userData);\n    return response.data;\n  }\n\n  async updateUser(id, userData) {\n    const response = await this.put(`/users/${id}`, userData);\n    return response.data;\n  }\n\n  async deleteUser(id) {\n    await this.delete(`/users/${id}`);\n  }\n\n  // 分类相关API\n  async getCategories() {\n    const response = await this.get('/categories');\n    return response.data?.categories || [];\n  }\n\n  async getCategoryById(id) {\n    const response = await this.get(`/categories/${id}`);\n    return response.data;\n  }\n\n  async createCategory(categoryData) {\n    const response = await this.post('/categories', categoryData);\n    return response.data;\n  }\n\n  async updateCategory(id, categoryData) {\n    const response = await this.put(`/categories/${id}`, categoryData);\n    return response.data;\n  }\n\n  async deleteCategory(id) {\n    await this.delete(`/categories/${id}`);\n  }\n\n  // 请求相关API\n  async getRequests(params = {}) {\n    // 默认获取所有数据（limit=1000），除非指定了分页参数\n    const queryParams = {\n      limit: 1000,\n      page: 1,\n      ...params\n    };\n    const response = await this.get('/requests', { params: queryParams });\n    return response.data || [];\n  }\n\n  async getAllRequests(params = {}) {\n    // 管理员获取所有请求的方法 - 使用通用的 /requests 端点\n    // 默认获取所有数据（limit=1000），除非指定了分页参数\n    const queryParams = {\n      limit: 1000,\n      page: 1,\n      ...params\n    };\n    const response = await this.get('/requests', { params: queryParams });\n    // 后端返回的是 { requests: [...], pagination: {...} }\n    return response.data?.requests || [];\n  }\n\n  async getRequestById(id) {\n    const response = await this.get(`/requests/${id}`);\n    return response.data;\n  }\n\n  async createRequest(requestData) {\n    const response = await this.post('/requests', requestData);\n    return response.data;\n  }\n\n  async updateRequest(id, requestData) {\n    const response = await this.put(`/requests/${id}`, requestData);\n    return response.data;\n  }\n\n  async deleteRequest(id) {\n    await this.delete(`/requests/${id}`);\n  }\n\n  async getUserRequests(userId) {\n    // 对于PIN用户，后端会自动过滤到只显示该用户的请求\n    // 不需要传递userId参数，因为后端从JWT token中获取用户信息\n    const response = await this.get('/requests');\n    return response.data?.requests || [];\n  }\n\n  async matchRequest(requestId, volunteerId) {\n    const response = await this.post(`/requests/${requestId}/match`, {\n      volunteerId\n    });\n    return response.data;\n  }\n\n  async completeRequest(requestId, feedback = null) {\n    const response = await this.post(`/requests/${requestId}/complete`, {\n      feedback\n    });\n    return response.data;\n  }\n\n  // 认证相关API\n  async login(loginData) {\n    const response = await this.post('/auth/login', loginData);\n    if (response.data && response.data.token) {\n      this.setToken(response.data.token);\n    }\n    return response;\n  }\n\n  async register(userData) {\n    const response = await this.post('/auth/register', userData);\n    if (response.token) {\n      this.setToken(response.token);\n    }\n    return response;\n  }\n\n  async logout() {\n    this.setToken(null);\n  }\n\n  async getCurrentUser() {\n    const response = await this.get('/auth/me');\n    return response.data;\n  }\n\n  // 管理员相关API\n  async getAdminStats() {\n    const response = await this.get('/admin/stats');\n    return response.data;\n  }\n\n  async getAdminActivities() {\n    const response = await this.get('/admin/activities');\n    return response.data || [];\n  }\n\n  // 搜索相关API\n  async searchRequests(filters = {}) {\n    const queryParams = new URLSearchParams();\n    Object.entries(filters).forEach(([key, value]) => {\n      if (value !== undefined && value !== null && value !== '') {\n        queryParams.append(key, value);\n      }\n    });\n    \n    const endpoint = `/requests/search${queryParams.toString() ? `?${queryParams}` : ''}`;\n    const response = await this.get(endpoint);\n    return response.data || [];\n  }\n\n  // 收藏相关API\n  async getShortlists(userId) {\n    const response = await this.get(`/users/${userId}/shortlist`);\n    return response.data || [];\n  }\n\n  async addToShortlist(userId, requestId) {\n    const response = await this.post(`/users/${userId}/shortlist`, { requestId });\n    return response.data;\n  }\n\n  async removeFromShortlist(userId, requestId) {\n    await this.delete(`/users/${userId}/shortlist/${requestId}`);\n  }\n}\n\n// 创建单例实例\nconst apiService = new ApiService();\n\nexport default apiService;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}