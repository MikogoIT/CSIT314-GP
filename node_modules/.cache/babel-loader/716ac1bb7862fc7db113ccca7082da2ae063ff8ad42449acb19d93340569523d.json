{"ast":null,"code":"import React,{useState}from'react';import{useLanguage}from'../../context/LanguageContext';import'../../styles/language-switcher.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const LanguageSwitcher=_ref=>{let{className=''}=_ref;const{currentLanguage,changeLanguage,languages}=useLanguage();const[isOpen,setIsOpen]=useState(false);const handleLanguageChange=languageCode=>{changeLanguage(languageCode);setIsOpen(false);};const currentLang=languages[currentLanguage];return/*#__PURE__*/_jsxs(\"div\",{className:\"language-switcher \".concat(className),children:[/*#__PURE__*/_jsxs(\"button\",{className:\"language-toggle\",onClick:()=>setIsOpen(!isOpen),type:\"button\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"language-flag\",children:currentLang.flag}),/*#__PURE__*/_jsx(\"span\",{className:\"language-name\",children:currentLang.name}),/*#__PURE__*/_jsx(\"span\",{className:\"language-arrow\",children:\"\\u25BC\"})]}),isOpen&&/*#__PURE__*/_jsx(\"div\",{className:\"language-dropdown\",children:Object.values(languages).map(language=>/*#__PURE__*/_jsxs(\"button\",{className:\"language-option \".concat(currentLanguage===language.code?'active':''),onClick:()=>handleLanguageChange(language.code),type:\"button\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"language-flag\",children:language.flag}),/*#__PURE__*/_jsx(\"span\",{className:\"language-name\",children:language.name}),currentLanguage===language.code&&/*#__PURE__*/_jsx(\"span\",{className:\"language-check\",children:\"\\u2713\"})]},language.code))}),isOpen&&/*#__PURE__*/_jsx(\"div\",{className:\"language-backdrop\",onClick:()=>setIsOpen(false)})]});};export default LanguageSwitcher;","map":{"version":3,"names":["React","useState","useLanguage","jsx","_jsx","jsxs","_jsxs","LanguageSwitcher","_ref","className","currentLanguage","changeLanguage","languages","isOpen","setIsOpen","handleLanguageChange","languageCode","currentLang","concat","children","onClick","type","flag","name","Object","values","map","language","code"],"sources":["D:/Study/Git/CSIT314-GP/src/components/Common/LanguageSwitcher.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useLanguage } from '../../context/LanguageContext';\r\nimport '../../styles/language-switcher.css';\r\n\r\nconst LanguageSwitcher = ({ className = '' }) => {\r\n  const { currentLanguage, changeLanguage, languages } = useLanguage();\r\n  const [isOpen, setIsOpen] = useState(false);\r\n\r\n  const handleLanguageChange = (languageCode) => {\r\n    changeLanguage(languageCode);\r\n    setIsOpen(false);\r\n  };\r\n\r\n  const currentLang = languages[currentLanguage];\r\n\r\n  return (\r\n    <div className={`language-switcher ${className}`}>\r\n      <button \r\n        className=\"language-toggle\"\r\n        onClick={() => setIsOpen(!isOpen)}\r\n        type=\"button\"\r\n      >\r\n        <span className=\"language-flag\">{currentLang.flag}</span>\r\n        <span className=\"language-name\">{currentLang.name}</span>\r\n        <span className=\"language-arrow\">▼</span>\r\n      </button>\r\n      \r\n      {isOpen && (\r\n        <div className=\"language-dropdown\">\r\n          {Object.values(languages).map(language => (\r\n            <button\r\n              key={language.code}\r\n              className={`language-option ${\r\n                currentLanguage === language.code ? 'active' : ''\r\n              }`}\r\n              onClick={() => handleLanguageChange(language.code)}\r\n              type=\"button\"\r\n            >\r\n              <span className=\"language-flag\">{language.flag}</span>\r\n              <span className=\"language-name\">{language.name}</span>\r\n              {currentLanguage === language.code && (\r\n                <span className=\"language-check\">✓</span>\r\n              )}\r\n            </button>\r\n          ))}\r\n        </div>\r\n      )}\r\n      \r\n      {/* 点击外部关闭下拉菜单 */}\r\n      {isOpen && (\r\n        <div \r\n          className=\"language-backdrop\"\r\n          onClick={() => setIsOpen(false)}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LanguageSwitcher;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,WAAW,KAAQ,+BAA+B,CAC3D,MAAO,oCAAoC,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE5C,KAAM,CAAAC,gBAAgB,CAAGC,IAAA,EAAwB,IAAvB,CAAEC,SAAS,CAAG,EAAG,CAAC,CAAAD,IAAA,CAC1C,KAAM,CAAEE,eAAe,CAAEC,cAAc,CAAEC,SAAU,CAAC,CAAGV,WAAW,CAAC,CAAC,CACpE,KAAM,CAACW,MAAM,CAAEC,SAAS,CAAC,CAAGb,QAAQ,CAAC,KAAK,CAAC,CAE3C,KAAM,CAAAc,oBAAoB,CAAIC,YAAY,EAAK,CAC7CL,cAAc,CAACK,YAAY,CAAC,CAC5BF,SAAS,CAAC,KAAK,CAAC,CAClB,CAAC,CAED,KAAM,CAAAG,WAAW,CAAGL,SAAS,CAACF,eAAe,CAAC,CAE9C,mBACEJ,KAAA,QAAKG,SAAS,sBAAAS,MAAA,CAAuBT,SAAS,CAAG,CAAAU,QAAA,eAC/Cb,KAAA,WACEG,SAAS,CAAC,iBAAiB,CAC3BW,OAAO,CAAEA,CAAA,GAAMN,SAAS,CAAC,CAACD,MAAM,CAAE,CAClCQ,IAAI,CAAC,QAAQ,CAAAF,QAAA,eAEbf,IAAA,SAAMK,SAAS,CAAC,eAAe,CAAAU,QAAA,CAAEF,WAAW,CAACK,IAAI,CAAO,CAAC,cACzDlB,IAAA,SAAMK,SAAS,CAAC,eAAe,CAAAU,QAAA,CAAEF,WAAW,CAACM,IAAI,CAAO,CAAC,cACzDnB,IAAA,SAAMK,SAAS,CAAC,gBAAgB,CAAAU,QAAA,CAAC,QAAC,CAAM,CAAC,EACnC,CAAC,CAERN,MAAM,eACLT,IAAA,QAAKK,SAAS,CAAC,mBAAmB,CAAAU,QAAA,CAC/BK,MAAM,CAACC,MAAM,CAACb,SAAS,CAAC,CAACc,GAAG,CAACC,QAAQ,eACpCrB,KAAA,WAEEG,SAAS,oBAAAS,MAAA,CACPR,eAAe,GAAKiB,QAAQ,CAACC,IAAI,CAAG,QAAQ,CAAG,EAAE,CAChD,CACHR,OAAO,CAAEA,CAAA,GAAML,oBAAoB,CAACY,QAAQ,CAACC,IAAI,CAAE,CACnDP,IAAI,CAAC,QAAQ,CAAAF,QAAA,eAEbf,IAAA,SAAMK,SAAS,CAAC,eAAe,CAAAU,QAAA,CAAEQ,QAAQ,CAACL,IAAI,CAAO,CAAC,cACtDlB,IAAA,SAAMK,SAAS,CAAC,eAAe,CAAAU,QAAA,CAAEQ,QAAQ,CAACJ,IAAI,CAAO,CAAC,CACrDb,eAAe,GAAKiB,QAAQ,CAACC,IAAI,eAChCxB,IAAA,SAAMK,SAAS,CAAC,gBAAgB,CAAAU,QAAA,CAAC,QAAC,CAAM,CACzC,GAXIQ,QAAQ,CAACC,IAYR,CACT,CAAC,CACC,CACN,CAGAf,MAAM,eACLT,IAAA,QACEK,SAAS,CAAC,mBAAmB,CAC7BW,OAAO,CAAEA,CAAA,GAAMN,SAAS,CAAC,KAAK,CAAE,CACjC,CACF,EACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAAP,gBAAgB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}