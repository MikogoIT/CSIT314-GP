{"ast":null,"code":"import _objectSpread from\"D:/Study/Git/CSIT314-GP/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{DataService}from'./dataService';export class ReportService{static getDateRangeData(startDate,endDate,requests,users){const start=new Date(startDate);const end=new Date(endDate);const filteredRequests=requests.filter(request=>{const date=new Date(request.createdAt);return date>=start&&date<=end;});const filteredUsers=users.filter(user=>{const date=new Date(user.registeredAt||user.createdAt);return date>=start&&date<=end;});return{requests:filteredRequests,users:filteredUsers};}static async generateDailyReport(){let targetDate=arguments.length>0&&arguments[0]!==undefined?arguments[0]:new Date();const users=await DataService.getUsers();const requests=await DataService.getRequests();const today=new Date(targetDate);today.setHours(0,0,0,0);const tomorrow=new Date(today);tomorrow.setDate(tomorrow.getDate()+1);const{requests:todayRequests,users:todayUsers}=this.getDateRangeData(today.toISOString(),tomorrow.toISOString(),requests,users);const yesterday=new Date(today);yesterday.setDate(yesterday.getDate()-1);const{requests:yesterdayRequests,users:yesterdayUsers}=this.getDateRangeData(yesterday.toISOString(),today.toISOString(),requests,users);const todayMatched=todayRequests.filter(r=>r.status==='matched').length;const yesterdayMatched=yesterdayRequests.filter(r=>r.status==='matched').length;const matchGrowth=yesterdayMatched===0?todayMatched>0?100:0:Math.round((todayMatched-yesterdayMatched)/yesterdayMatched*100);const userGrowth=yesterdayUsers.length===0?todayUsers.length>0?100:0:Math.round((todayUsers.length-yesterdayUsers.length)/yesterdayUsers.length*100);const activeRequests=requests.filter(r=>r.status==='pending'||r.status==='matched').length;const completedToday=todayRequests.filter(r=>r.status==='completed').length;const totalProcessedToday=todayRequests.filter(r=>r.status!=='pending').length;const completionRate=totalProcessedToday===0?0:Math.round(completedToday/totalProcessedToday*100);return{reportType:'daily',date:today.toISOString().split('T')[0],totalMatches:todayMatched,newUsers:todayUsers.length,activeRequests:activeRequests,completionRate:\"\".concat(completionRate,\"%\"),trends:{matchGrowth:matchGrowth,userGrowth:userGrowth,completionRateChange:0},details:{categoryBreakdown:await this.getCategoryBreakdown(todayRequests),hourlyActivity:this.getHourlyActivity(todayRequests),userTypeBreakdown:this.getUserTypeBreakdown(todayUsers)}};}static async generateWeeklyReport(){let targetDate=arguments.length>0&&arguments[0]!==undefined?arguments[0]:new Date();const users=await DataService.getUsers();const requests=await DataService.getRequests();const date=new Date(targetDate);const dayOfWeek=date.getDay();const daysToMonday=dayOfWeek===0?-6:1-dayOfWeek;const startDate=new Date(date);startDate.setDate(date.getDate()+daysToMonday);startDate.setHours(0,0,0,0);const endDate=new Date(startDate);endDate.setDate(startDate.getDate()+6);endDate.setHours(23,59,59,999);const{requests:weekRequests,users:weekUsers}=this.getDateRangeData(startDate.toISOString(),endDate.toISOString(),requests,users);const lastWeekEnd=new Date(startDate);const lastWeekStart=new Date(lastWeekEnd);lastWeekStart.setDate(lastWeekStart.getDate()-7);const{requests:lastWeekRequests,users:lastWeekUsers}=this.getDateRangeData(lastWeekStart.toISOString(),lastWeekEnd.toISOString(),requests,users);const weekMatched=weekRequests.filter(r=>r.status==='matched').length;const lastWeekMatched=lastWeekRequests.filter(r=>r.status==='matched').length;const matchGrowth=lastWeekMatched===0?weekMatched>0?100:0:Math.round((weekMatched-lastWeekMatched)/lastWeekMatched*100);const userGrowth=lastWeekUsers.length===0?weekUsers.length>0?100:0:Math.round((weekUsers.length-lastWeekUsers.length)/lastWeekUsers.length*100);const activeRequests=requests.filter(r=>r.status==='pending'||r.status==='matched').length;const completedWeek=weekRequests.filter(r=>r.status==='completed').length;const totalProcessedWeek=weekRequests.filter(r=>r.status!=='pending').length;const completionRate=totalProcessedWeek===0?0:Math.round(completedWeek/totalProcessedWeek*100);return{reportType:'weekly',dateRange:\"\".concat(startDate.toISOString().split('T')[0],\" - \").concat(endDate.toISOString().split('T')[0]),totalMatches:weekMatched,newUsers:weekUsers.length,activeRequests:activeRequests,completionRate:\"\".concat(completionRate,\"%\"),trends:{matchGrowth:matchGrowth,userGrowth:userGrowth,completionRateChange:0},details:{categoryBreakdown:await this.getCategoryBreakdown(weekRequests),dailyActivity:this.getDailyActivity(weekRequests,startDate,endDate),userTypeBreakdown:this.getUserTypeBreakdown(weekUsers)}};}static async generateMonthlyReport(){let targetDate=arguments.length>0&&arguments[0]!==undefined?arguments[0]:new Date();const users=await DataService.getUsers();const requests=await DataService.getRequests();const endDate=new Date(targetDate);const startDate=new Date(endDate.getFullYear(),endDate.getMonth(),1);const{requests:monthRequests,users:monthUsers}=this.getDateRangeData(startDate.toISOString(),endDate.toISOString(),requests,users);const lastMonthEnd=new Date(startDate);lastMonthEnd.setDate(lastMonthEnd.getDate()-1);const lastMonthStart=new Date(lastMonthEnd.getFullYear(),lastMonthEnd.getMonth(),1);const{requests:lastMonthRequests,users:lastMonthUsers}=this.getDateRangeData(lastMonthStart.toISOString(),lastMonthEnd.toISOString(),requests,users);const monthMatched=monthRequests.filter(r=>r.status==='matched').length;const lastMonthMatched=lastMonthRequests.filter(r=>r.status==='matched').length;const matchGrowth=lastMonthMatched===0?monthMatched>0?100:0:Math.round((monthMatched-lastMonthMatched)/lastMonthMatched*100);const userGrowth=lastMonthUsers.length===0?monthUsers.length>0?100:0:Math.round((monthUsers.length-lastMonthUsers.length)/lastMonthUsers.length*100);const activeRequests=requests.filter(r=>r.status==='pending'||r.status==='matched').length;const completedMonth=monthRequests.filter(r=>r.status==='completed').length;const totalProcessedMonth=monthRequests.filter(r=>r.status!=='pending').length;const completionRate=totalProcessedMonth===0?0:Math.round(completedMonth/totalProcessedMonth*100);return{reportType:'monthly',dateRange:\"\".concat(startDate.toISOString().split('T')[0],\" - \").concat(endDate.toISOString().split('T')[0]),totalMatches:monthMatched,newUsers:monthUsers.length,activeRequests:activeRequests,completionRate:\"\".concat(completionRate,\"%\"),trends:{matchGrowth:matchGrowth,userGrowth:userGrowth,completionRateChange:0},details:{categoryBreakdown:await this.getCategoryBreakdown(monthRequests),weeklyActivity:this.getWeeklyActivity(monthRequests,startDate,endDate),userTypeBreakdown:this.getUserTypeBreakdown(monthUsers),topPerformers:this.getTopPerformers(monthRequests)}};}static async getCategoryBreakdown(requests){const categories=await DataService.getCategories();const breakdown={};categories.forEach(category=>{breakdown[category.id]={name:category.name,count:requests.filter(r=>r.category===category.id).length,matched:requests.filter(r=>r.category===category.id&&r.status==='matched').length};});return breakdown;}static getUserTypeBreakdown(users){return{pin:users.filter(u=>u.userType==='pin').length,csr:users.filter(u=>u.userType==='csr').length,system_admin:users.filter(u=>u.userType==='system_admin').length,platform_manager:users.filter(u=>u.userType==='platform_manager').length};}static getHourlyActivity(requests){const hourlyData=Array.from({length:24},(_,i)=>({hour:i,count:0}));requests.forEach(request=>{const hour=new Date(request.createdAt).getHours();hourlyData[hour].count++;});return hourlyData;}static getDailyActivity(requests,startDate,endDate){const dailyData=[];const current=new Date(startDate);while(current<=endDate){const dayStart=new Date(current);dayStart.setHours(0,0,0,0);const dayEnd=new Date(current);dayEnd.setHours(23,59,59,999);const dayRequests=requests.filter(request=>{const requestDate=new Date(request.createdAt);return requestDate>=dayStart&&requestDate<=dayEnd;});dailyData.push({date:current.toISOString().split('T')[0],count:dayRequests.length,matched:dayRequests.filter(r=>r.status==='matched').length});current.setDate(current.getDate()+1);}return dailyData;}static getWeeklyActivity(requests,startDate,endDate){const weeklyData=[];const current=new Date(startDate);while(current<=endDate){const weekStart=new Date(current);const weekEnd=new Date(current);weekEnd.setDate(weekEnd.getDate()+6);if(weekEnd>endDate){weekEnd.setTime(endDate.getTime());}const weekRequests=requests.filter(request=>{const requestDate=new Date(request.createdAt);return requestDate>=weekStart&&requestDate<=weekEnd;});weeklyData.push({weekStart:weekStart.toISOString().split('T')[0],weekEnd:weekEnd.toISOString().split('T')[0],count:weekRequests.length,matched:weekRequests.filter(r=>r.status==='matched').length});current.setDate(current.getDate()+7);}return weeklyData;}static getTopVolunteers(requests){const volunteerStats={};requests.filter(r=>r.status==='matched'&&r.volunteer).forEach(request=>{const volunteer=request.volunteer;if(!volunteerStats[volunteer]){volunteerStats[volunteer]={name:volunteer,matches:0,categories:new Set()};}volunteerStats[volunteer].matches++;volunteerStats[volunteer].categories.add(request.category);});return Object.values(volunteerStats).map(v=>_objectSpread(_objectSpread({},v),{},{categories:Array.from(v.categories)})).sort((a,b)=>b.matches-a.matches).slice(0,5);}static async generateComprehensiveReport(){let reportType=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'monthly';let targetDate=arguments.length>1&&arguments[1]!==undefined?arguments[1]:new Date();let report;switch(reportType){case'daily':report=await this.generateDailyReport(targetDate);break;case'weekly':report=await this.generateWeeklyReport(targetDate);break;case'monthly':report=await this.generateMonthlyReport(targetDate);break;default:report=await this.generateWeeklyReport(targetDate);}const allUsers=await DataService.getUsers();const allRequests=await DataService.getRequests();return _objectSpread(_objectSpread({},report),{},{generatedAt:new Date().toISOString(),systemInfo:{totalUsers:allUsers.length,totalRequests:allRequests.length,systemHealth:'good'}});}static formatReportText(report){const reportTypeNames={daily:'日报',weekly:'周报',monthly:'月报'};let text='';text+='='.repeat(60)+'\\n';text+=\"CSR\\u5FD7\\u613F\\u8005\\u5339\\u914D\\u7CFB\\uFFFD?- \".concat(reportTypeNames[report.reportType]||'报告',\"\\n\");text+='='.repeat(60)+'\\n\\n';text+=\"\\u62A5\\u544A\\u65E5\\u671F: \".concat(report.date,\"\\n\");text+=\"\\u751F\\u6210\\u65F6\\u95F4: \".concat(new Date(report.generatedAt).toLocaleString('zh-CN'),\"\\n\\n\");text+='-'.repeat(60)+'\\n';text+='核心指标\\n';text+='-'.repeat(60)+'\\n';text+=\"\\u603B\\u5339\\u914D\\u6570: \".concat(report.totalMatches,\" \\u6B21\\n\");text+=\"\\u65B0\\u589E\\u7528\\u6237: \".concat(report.newUsers,\" \\u4EBA\\n\");text+=\"\\u6D3B\\u8DC3\\u8BF7\\u6C42: \".concat(report.activeRequests,\" \\u4E2A\\n\");text+=\"\\u5B8C\\u6210\\uFFFD? \".concat(report.completionRate,\"\\n\\n\");text+='-'.repeat(60)+'\\n';text+='增长趋势\\n';text+='-'.repeat(60)+'\\n';text+=\"\\u5339\\u914D\\u589E\\u957F\\uFFFD? \".concat(report.trends.matchGrowth>0?'+':'').concat(report.trends.matchGrowth,\"%\\n\");text+=\"\\u7528\\u6237\\u589E\\u957F\\uFFFD? \".concat(report.trends.userGrowth>0?'+':'').concat(report.trends.userGrowth,\"%\\n\\n\");if(report.details.categoryBreakdown){text+='-'.repeat(60)+'\\n';text+='分类统计\\n';text+='-'.repeat(60)+'\\n';Object.entries(report.details.categoryBreakdown).forEach(_ref=>{let[key,data]=_ref;text+=\"\".concat(data.name,\": \").concat(data.count,\" \\u4E2A\\u8BF7\\uFFFD?(\\u5339\\u914D: \").concat(data.matched,\")\\n\");});text+='\\n';}if(report.details.userTypeBreakdown){text+='-'.repeat(60)+'\\n';text+='用户类型分布\\n';text+='-'.repeat(60)+'\\n';text+=\"PIN\\u7528\\u6237 (\\u9700\\u8981\\u5E2E\\uFFFD?: \".concat(report.details.userTypeBreakdown.pin,\" \\u4EBA\\n\");text+=\"CSR\\u5FD7\\u613F\\uFFFD? \".concat(report.details.userTypeBreakdown.csr,\" \\u4EBA\\n\");text+=\"\\u7BA1\\u7406\\uFFFD? \".concat(report.details.userTypeBreakdown.admin,\" \\u4EBA\\n\\n\");}if(report.details.topPerformers&&report.details.topPerformers.length>0){text+='-'.repeat(60)+'\\n';text+='优秀志愿�?(Top 5)\\n';text+='-'.repeat(60)+'\\n';report.details.topPerformers.forEach((volunteer,index)=>{text+=\"\".concat(index+1,\". \").concat(volunteer.name,\"\\n\");text+=\"   \\u5B8C\\u6210\\u5339\\u914D: \".concat(volunteer.matches,\" \\u6B21\\n\");text+=\"   \\u5E73\\u5747\\u8BC4\\u5206: \".concat(volunteer.averageRating.toFixed(1),\" \\u5206\\n\");text+=\"   \\u670D\\u52A1\\u7C7B\\u522B: \".concat(Array.from(volunteer.categories).join(', '),\"\\n\\n\");});}text+='-'.repeat(60)+'\\n';text+='系统信息\\n';text+='-'.repeat(60)+'\\n';text+=\"\\u603B\\u7528\\u6237\\u6570: \".concat(report.systemInfo.totalUsers,\" \\u4EBA\\n\");text+=\"\\u603B\\u8BF7\\u6C42\\u6570: \".concat(report.systemInfo.totalRequests,\" \\u4E2A\\n\");text+=\"\\u7CFB\\u7EDF\\u72B6\\uFFFD? \".concat(report.systemInfo.systemHealth==='good'?'良好':'异常',\"\\n\\n\");text+='='.repeat(60)+'\\n';text+='报告结束\\n';text+='='.repeat(60)+'\\n';return text;}static exportReportText(report,filename){const textContent=this.formatReportText(report);const textBlob=new Blob([textContent],{type:'text/plain;charset=utf-8;'});const link=document.createElement('a');link.href=URL.createObjectURL(textBlob);link.download=\"\".concat(filename,\"_\").concat(report.reportType,\"_\").concat(report.date,\".txt\");document.body.appendChild(link);link.click();document.body.removeChild(link);}static exportReportJSON(report,filename){const dataStr=JSON.stringify(report,null,2);const dataBlob=new Blob([dataStr],{type:'application/json'});const link=document.createElement('a');link.href=URL.createObjectURL(dataBlob);link.download=\"\".concat(filename,\"_\").concat(report.reportType,\"_\").concat(report.date,\".json\");document.body.appendChild(link);link.click();document.body.removeChild(link);}static exportReportCSV(report,filename){const csvData=[['Metric','Value','Growth'],['Total Matches',report.totalMatches,\"\".concat(report.trends.matchGrowth,\"%\")],['New Users',report.newUsers,\"\".concat(report.trends.userGrowth,\"%\")],['Active Requests',report.activeRequests,''],['Completion Rate',report.completionRate,'']];const csvContent=csvData.map(row=>row.join(',')).join('\\n');const csvBlob=new Blob([csvContent],{type:'text/csv;charset=utf-8;'});const link=document.createElement('a');link.href=URL.createObjectURL(csvBlob);link.download=\"\".concat(filename,\"_\").concat(report.reportType,\"_\").concat(new Date().toISOString().split('T')[0],\".csv\");document.body.appendChild(link);link.click();document.body.removeChild(link);}static async generateAndDownloadReport(reportType,targetDate){const report=await this.generateComprehensiveReport(reportType,targetDate);this.exportReport(report,'system_report');return report;}}","map":{"version":3,"names":["DataService","ReportService","getDateRangeData","startDate","endDate","requests","users","start","Date","end","filteredRequests","filter","request","date","createdAt","filteredUsers","user","registeredAt","generateDailyReport","targetDate","arguments","length","undefined","getUsers","getRequests","today","setHours","tomorrow","setDate","getDate","todayRequests","todayUsers","toISOString","yesterday","yesterdayRequests","yesterdayUsers","todayMatched","r","status","yesterdayMatched","matchGrowth","Math","round","userGrowth","activeRequests","completedToday","totalProcessedToday","completionRate","reportType","split","totalMatches","newUsers","concat","trends","completionRateChange","details","categoryBreakdown","getCategoryBreakdown","hourlyActivity","getHourlyActivity","userTypeBreakdown","getUserTypeBreakdown","generateWeeklyReport","dayOfWeek","getDay","daysToMonday","weekRequests","weekUsers","lastWeekEnd","lastWeekStart","lastWeekRequests","lastWeekUsers","weekMatched","lastWeekMatched","completedWeek","totalProcessedWeek","dateRange","dailyActivity","getDailyActivity","generateMonthlyReport","getFullYear","getMonth","monthRequests","monthUsers","lastMonthEnd","lastMonthStart","lastMonthRequests","lastMonthUsers","monthMatched","lastMonthMatched","completedMonth","totalProcessedMonth","weeklyActivity","getWeeklyActivity","topPerformers","getTopPerformers","categories","getCategories","breakdown","forEach","category","id","name","count","matched","pin","u","userType","csr","system_admin","platform_manager","hourlyData","Array","from","_","i","hour","getHours","dailyData","current","dayStart","dayEnd","dayRequests","requestDate","push","weeklyData","weekStart","weekEnd","setTime","getTime","getTopVolunteers","volunteerStats","volunteer","matches","Set","add","Object","values","map","v","_objectSpread","sort","a","b","slice","generateComprehensiveReport","report","allUsers","allRequests","generatedAt","systemInfo","totalUsers","totalRequests","systemHealth","formatReportText","reportTypeNames","daily","weekly","monthly","text","repeat","toLocaleString","entries","_ref","key","data","admin","index","averageRating","toFixed","join","exportReportText","filename","textContent","textBlob","Blob","type","link","document","createElement","href","URL","createObjectURL","download","body","appendChild","click","removeChild","exportReportJSON","dataStr","JSON","stringify","dataBlob","exportReportCSV","csvData","csvContent","row","csvBlob","generateAndDownloadReport","exportReport"],"sources":["D:/Study/Git/CSIT314-GP/src/services/reportService.js"],"sourcesContent":["import { DataService } from './dataService';\r\n\r\nexport class ReportService {\r\n  static getDateRangeData(startDate, endDate, requests, users) {\r\n    const start = new Date(startDate);\r\n    const end = new Date(endDate);\r\n    \r\n    const filteredRequests = requests.filter(request => {\r\n      const date = new Date(request.createdAt);\r\n      return date >= start && date <= end;\r\n    });\r\n    \r\n    const filteredUsers = users.filter(user => {\r\n      const date = new Date(user.registeredAt || user.createdAt);\r\n      return date >= start && date <= end;\r\n    });\r\n    \r\n    return { requests: filteredRequests, users: filteredUsers };\r\n  }\r\n  \r\n  static async generateDailyReport(targetDate = new Date()) {\r\n    const users = await DataService.getUsers();\r\n    const requests = await DataService.getRequests();\r\n    \r\n    const today = new Date(targetDate);\r\n    today.setHours(0, 0, 0, 0);\r\n    const tomorrow = new Date(today);\r\n    tomorrow.setDate(tomorrow.getDate() + 1);\r\n    \r\n    const { requests: todayRequests, users: todayUsers } = this.getDateRangeData(\r\n      today.toISOString(),\r\n      tomorrow.toISOString(),\r\n      requests,\r\n      users\r\n    );\r\n    \r\n    const yesterday = new Date(today);\r\n    yesterday.setDate(yesterday.getDate() - 1);\r\n    const { requests: yesterdayRequests, users: yesterdayUsers } = this.getDateRangeData(\r\n      yesterday.toISOString(),\r\n      today.toISOString(),\r\n      requests,\r\n      users\r\n    );\r\n    \r\n    const todayMatched = todayRequests.filter(r => r.status === 'matched').length;\r\n    const yesterdayMatched = yesterdayRequests.filter(r => r.status === 'matched').length;\r\n    \r\n    const matchGrowth = yesterdayMatched === 0 ? (todayMatched > 0 ? 100 : 0) : \r\n      Math.round(((todayMatched - yesterdayMatched) / yesterdayMatched) * 100);\r\n    \r\n    const userGrowth = yesterdayUsers.length === 0 ? (todayUsers.length > 0 ? 100 : 0) :\r\n      Math.round(((todayUsers.length - yesterdayUsers.length) / yesterdayUsers.length) * 100);\r\n    \r\n    const activeRequests = requests.filter(r => r.status === 'pending' || r.status === 'matched').length;\r\n    \r\n    const completedToday = todayRequests.filter(r => r.status === 'completed').length;\r\n    const totalProcessedToday = todayRequests.filter(r => r.status !== 'pending').length;\r\n    const completionRate = totalProcessedToday === 0 ? 0 : \r\n      Math.round((completedToday / totalProcessedToday) * 100);\r\n    \r\n    return {\r\n      reportType: 'daily',\r\n      date: today.toISOString().split('T')[0],\r\n      totalMatches: todayMatched,\r\n      newUsers: todayUsers.length,\r\n      activeRequests: activeRequests,\r\n      completionRate: `${completionRate}%`,\r\n      trends: {\r\n        matchGrowth: matchGrowth,\r\n        userGrowth: userGrowth,\r\n        completionRateChange: 0\r\n      },\r\n      details: {\r\n        categoryBreakdown: await this.getCategoryBreakdown(todayRequests),\r\n        hourlyActivity: this.getHourlyActivity(todayRequests),\r\n        userTypeBreakdown: this.getUserTypeBreakdown(todayUsers)\r\n      }\r\n    };\r\n  }\r\n  static async generateWeeklyReport(targetDate = new Date()) {\r\n    const users = await DataService.getUsers();\r\n    const requests = await DataService.getRequests();\r\n    \r\n    const date = new Date(targetDate);\r\n    const dayOfWeek = date.getDay();\r\n    const daysToMonday = dayOfWeek === 0 ? -6 : 1 - dayOfWeek;\r\n    \r\n    const startDate = new Date(date);\r\n    startDate.setDate(date.getDate() + daysToMonday);\r\n    startDate.setHours(0, 0, 0, 0);\r\n    \r\n    const endDate = new Date(startDate);\r\n    endDate.setDate(startDate.getDate() + 6);\r\n    endDate.setHours(23, 59, 59, 999);\r\n    \r\n    const { requests: weekRequests, users: weekUsers } = this.getDateRangeData(\r\n      startDate.toISOString(),\r\n      endDate.toISOString(),\r\n      requests,\r\n      users\r\n    );\r\n    const lastWeekEnd = new Date(startDate);\r\n    const lastWeekStart = new Date(lastWeekEnd);\r\n    lastWeekStart.setDate(lastWeekStart.getDate() - 7);\r\n    \r\n    const { requests: lastWeekRequests, users: lastWeekUsers } = this.getDateRangeData(\r\n      lastWeekStart.toISOString(),\r\n      lastWeekEnd.toISOString(),\r\n      requests,\r\n      users\r\n    );\r\n    \r\n    const weekMatched = weekRequests.filter(r => r.status === 'matched').length;\r\n    const lastWeekMatched = lastWeekRequests.filter(r => r.status === 'matched').length;\r\n    \r\n    const matchGrowth = lastWeekMatched === 0 ? (weekMatched > 0 ? 100 : 0) : \r\n      Math.round(((weekMatched - lastWeekMatched) / lastWeekMatched) * 100);\r\n    \r\n    const userGrowth = lastWeekUsers.length === 0 ? (weekUsers.length > 0 ? 100 : 0) :\r\n      Math.round(((weekUsers.length - lastWeekUsers.length) / lastWeekUsers.length) * 100);\r\n    \r\n    const activeRequests = requests.filter(r => r.status === 'pending' || r.status === 'matched').length;\r\n    \r\n    const completedWeek = weekRequests.filter(r => r.status === 'completed').length;\r\n    const totalProcessedWeek = weekRequests.filter(r => r.status !== 'pending').length;\r\n    const completionRate = totalProcessedWeek === 0 ? 0 : \r\n      Math.round((completedWeek / totalProcessedWeek) * 100);\r\n    \r\n    return {\r\n      reportType: 'weekly',\r\n      dateRange: `${startDate.toISOString().split('T')[0]} - ${endDate.toISOString().split('T')[0]}`,\r\n      totalMatches: weekMatched,\r\n      newUsers: weekUsers.length,\r\n      activeRequests: activeRequests,\r\n      completionRate: `${completionRate}%`,\r\n      trends: {\r\n        matchGrowth: matchGrowth,\r\n        userGrowth: userGrowth,\r\n        completionRateChange: 0\r\n      },\r\n      details: {\r\n        categoryBreakdown: await this.getCategoryBreakdown(weekRequests),\r\n        dailyActivity: this.getDailyActivity(weekRequests, startDate, endDate),\r\n        userTypeBreakdown: this.getUserTypeBreakdown(weekUsers)\r\n      }\r\n    };\r\n  }\r\n  static async generateMonthlyReport(targetDate = new Date()) {\r\n    const users = await DataService.getUsers();\r\n    const requests = await DataService.getRequests();\r\n    \r\n    const endDate = new Date(targetDate);\r\n    const startDate = new Date(endDate.getFullYear(), endDate.getMonth(), 1);\r\n    \r\n    const { requests: monthRequests, users: monthUsers } = this.getDateRangeData(\r\n      startDate.toISOString(),\r\n      endDate.toISOString(),\r\n      requests,\r\n      users\r\n    );\r\n    const lastMonthEnd = new Date(startDate);\r\n    lastMonthEnd.setDate(lastMonthEnd.getDate() - 1);\r\n    const lastMonthStart = new Date(lastMonthEnd.getFullYear(), lastMonthEnd.getMonth(), 1);\r\n    \r\n    const { requests: lastMonthRequests, users: lastMonthUsers } = this.getDateRangeData(\r\n      lastMonthStart.toISOString(),\r\n      lastMonthEnd.toISOString(),\r\n      requests,\r\n      users\r\n    );\r\n    \r\n    const monthMatched = monthRequests.filter(r => r.status === 'matched').length;\r\n    const lastMonthMatched = lastMonthRequests.filter(r => r.status === 'matched').length;\r\n    \r\n    const matchGrowth = lastMonthMatched === 0 ? (monthMatched > 0 ? 100 : 0) : \r\n      Math.round(((monthMatched - lastMonthMatched) / lastMonthMatched) * 100);\r\n    \r\n    const userGrowth = lastMonthUsers.length === 0 ? (monthUsers.length > 0 ? 100 : 0) :\r\n      Math.round(((monthUsers.length - lastMonthUsers.length) / lastMonthUsers.length) * 100);\r\n    \r\n    const activeRequests = requests.filter(r => r.status === 'pending' || r.status === 'matched').length;\r\n    \r\n    const completedMonth = monthRequests.filter(r => r.status === 'completed').length;\r\n    const totalProcessedMonth = monthRequests.filter(r => r.status !== 'pending').length;\r\n    const completionRate = totalProcessedMonth === 0 ? 0 : \r\n      Math.round((completedMonth / totalProcessedMonth) * 100);\r\n    \r\n    return {\r\n      reportType: 'monthly',\r\n      dateRange: `${startDate.toISOString().split('T')[0]} - ${endDate.toISOString().split('T')[0]}`,\r\n      totalMatches: monthMatched,\r\n      newUsers: monthUsers.length,\r\n      activeRequests: activeRequests,\r\n      completionRate: `${completionRate}%`,\r\n      trends: {\r\n        matchGrowth: matchGrowth,\r\n        userGrowth: userGrowth,\r\n        completionRateChange: 0\r\n      },\r\n      details: {\r\n        categoryBreakdown: await this.getCategoryBreakdown(monthRequests),\r\n        weeklyActivity: this.getWeeklyActivity(monthRequests, startDate, endDate),\r\n        userTypeBreakdown: this.getUserTypeBreakdown(monthUsers),\r\n        topPerformers: this.getTopPerformers(monthRequests)\r\n      }\r\n    };\r\n  }\r\n  static async getCategoryBreakdown(requests) {\r\n    const categories = await DataService.getCategories();\r\n    const breakdown = {};\r\n    \r\n    categories.forEach(category => {\r\n      breakdown[category.id] = {\r\n        name: category.name,\r\n        count: requests.filter(r => r.category === category.id).length,\r\n        matched: requests.filter(r => r.category === category.id && r.status === 'matched').length\r\n      };\r\n    });\r\n    \r\n    return breakdown;\r\n  }\r\n  \r\n  static getUserTypeBreakdown(users) {\r\n    return {\r\n      pin: users.filter(u => u.userType === 'pin').length,\r\n      csr: users.filter(u => u.userType === 'csr').length,\r\n      system_admin: users.filter(u => u.userType === 'system_admin').length,\r\n      platform_manager: users.filter(u => u.userType === 'platform_manager').length\r\n    };\r\n  }\r\n  \r\n  static getHourlyActivity(requests) {\r\n    const hourlyData = Array.from({ length: 24 }, (_, i) => ({ hour: i, count: 0 }));\r\n    \r\n    requests.forEach(request => {\r\n      const hour = new Date(request.createdAt).getHours();\r\n      hourlyData[hour].count++;\r\n    });\r\n    \r\n    return hourlyData;\r\n  }\r\n  static getDailyActivity(requests, startDate, endDate) {\r\n    const dailyData = [];\r\n    const current = new Date(startDate);\r\n    \r\n    while (current <= endDate) {\r\n      const dayStart = new Date(current);\r\n      dayStart.setHours(0, 0, 0, 0);\r\n      const dayEnd = new Date(current);\r\n      dayEnd.setHours(23, 59, 59, 999);\r\n      \r\n      const dayRequests = requests.filter(request => {\r\n        const requestDate = new Date(request.createdAt);\r\n        return requestDate >= dayStart && requestDate <= dayEnd;\r\n      });\r\n      \r\n      dailyData.push({\r\n        date: current.toISOString().split('T')[0],\r\n        count: dayRequests.length,\r\n        matched: dayRequests.filter(r => r.status === 'matched').length\r\n      });\r\n      \r\n      current.setDate(current.getDate() + 1);\r\n    }\r\n    \r\n    return dailyData;\r\n  }\r\n  static getWeeklyActivity(requests, startDate, endDate) {\r\n    const weeklyData = [];\r\n    const current = new Date(startDate);\r\n    \r\n    while (current <= endDate) {\r\n      const weekStart = new Date(current);\r\n      const weekEnd = new Date(current);\r\n      weekEnd.setDate(weekEnd.getDate() + 6);\r\n      \r\n      if (weekEnd > endDate) {\r\n        weekEnd.setTime(endDate.getTime());\r\n      }\r\n      \r\n      const weekRequests = requests.filter(request => {\r\n        const requestDate = new Date(request.createdAt);\r\n        return requestDate >= weekStart && requestDate <= weekEnd;\r\n      });\r\n      \r\n      weeklyData.push({\r\n        weekStart: weekStart.toISOString().split('T')[0],\r\n        weekEnd: weekEnd.toISOString().split('T')[0],\r\n        count: weekRequests.length,\r\n        matched: weekRequests.filter(r => r.status === 'matched').length\r\n      });\r\n      \r\n      current.setDate(current.getDate() + 7);\r\n    }\r\n    \r\n    return weeklyData;\r\n  }\r\n  \r\n  static getTopVolunteers(requests) {\r\n    const volunteerStats = {};\r\n    \r\n    requests.filter(r => r.status === 'matched' && r.volunteer).forEach(request => {\r\n      const volunteer = request.volunteer;\r\n      if (!volunteerStats[volunteer]) {\r\n        volunteerStats[volunteer] = {\r\n          name: volunteer,\r\n          matches: 0,\r\n          categories: new Set()\r\n        };\r\n      }\r\n      volunteerStats[volunteer].matches++;\r\n      volunteerStats[volunteer].categories.add(request.category);\r\n    });\r\n    \r\n    return Object.values(volunteerStats)\r\n      .map(v => ({\r\n        ...v,\r\n        categories: Array.from(v.categories)\r\n      }))\r\n      .sort((a, b) => b.matches - a.matches)\r\n      .slice(0, 5);\r\n  }\r\n  static async generateComprehensiveReport(reportType = 'monthly', targetDate = new Date()) {\r\n    let report;\r\n    \r\n    switch (reportType) {\r\n      case 'daily':\r\n        report = await this.generateDailyReport(targetDate);\r\n        break;\r\n      case 'weekly':\r\n        report = await this.generateWeeklyReport(targetDate);\r\n        break;\r\n      case 'monthly':\r\n        report = await this.generateMonthlyReport(targetDate);\r\n        break;\r\n      default:\r\n        report = await this.generateWeeklyReport(targetDate);\r\n    }\r\n    \r\n    const allUsers = await DataService.getUsers();\r\n    const allRequests = await DataService.getRequests();\r\n    \r\n    return {\r\n      ...report,\r\n      generatedAt: new Date().toISOString(),\r\n      systemInfo: {\r\n        totalUsers: allUsers.length,\r\n        totalRequests: allRequests.length,\r\n        systemHealth: 'good'\r\n      }\r\n    };\r\n  }\r\n  static formatReportText(report) {\r\n    const reportTypeNames = {\r\n      daily: '日报',\r\n      weekly: '周报',\r\n      monthly: '月报'\r\n    };\r\n    \r\n    let text = '';\r\n    text += '='.repeat(60) + '\\n';\r\n    text += `CSR志愿者匹配系�?- ${reportTypeNames[report.reportType] || '报告'}\\n`;\r\n    text += '='.repeat(60) + '\\n\\n';\r\n    \r\n    text += `报告日期: ${report.date}\\n`;\r\n    text += `生成时间: ${new Date(report.generatedAt).toLocaleString('zh-CN')}\\n\\n`;\r\n    \r\n    text += '-'.repeat(60) + '\\n';\r\n    text += '核心指标\\n';\r\n    text += '-'.repeat(60) + '\\n';\r\n    text += `总匹配数: ${report.totalMatches} 次\\n`;\r\n    text += `新增用户: ${report.newUsers} 人\\n`;\r\n    text += `活跃请求: ${report.activeRequests} 个\\n`;\r\n    text += `完成�? ${report.completionRate}\\n\\n`;\r\n    \r\n    text += '-'.repeat(60) + '\\n';\r\n    text += '增长趋势\\n';\r\n    text += '-'.repeat(60) + '\\n';\r\n    text += `匹配增长�? ${report.trends.matchGrowth > 0 ? '+' : ''}${report.trends.matchGrowth}%\\n`;\r\n    text += `用户增长�? ${report.trends.userGrowth > 0 ? '+' : ''}${report.trends.userGrowth}%\\n\\n`;\r\n    \r\n    if (report.details.categoryBreakdown) {\r\n      text += '-'.repeat(60) + '\\n';\r\n      text += '分类统计\\n';\r\n      text += '-'.repeat(60) + '\\n';\r\n      Object.entries(report.details.categoryBreakdown).forEach(([key, data]) => {\r\n        text += `${data.name}: ${data.count} 个请�?(匹配: ${data.matched})\\n`;\r\n      });\r\n      text += '\\n';\r\n    }\r\n    \r\n    if (report.details.userTypeBreakdown) {\r\n      text += '-'.repeat(60) + '\\n';\r\n      text += '用户类型分布\\n';\r\n      text += '-'.repeat(60) + '\\n';\r\n      text += `PIN用户 (需要帮�?: ${report.details.userTypeBreakdown.pin} 人\\n`;\r\n      text += `CSR志愿�? ${report.details.userTypeBreakdown.csr} 人\\n`;\r\n      text += `管理�? ${report.details.userTypeBreakdown.admin} 人\\n\\n`;\r\n    }\r\n    \r\n    if (report.details.topPerformers && report.details.topPerformers.length > 0) {\r\n      text += '-'.repeat(60) + '\\n';\r\n      text += '优秀志愿�?(Top 5)\\n';\r\n      text += '-'.repeat(60) + '\\n';\r\n      report.details.topPerformers.forEach((volunteer, index) => {\r\n        text += `${index + 1}. ${volunteer.name}\\n`;\r\n        text += `   完成匹配: ${volunteer.matches} 次\\n`;\r\n        text += `   平均评分: ${volunteer.averageRating.toFixed(1)} 分\\n`;\r\n        text += `   服务类别: ${Array.from(volunteer.categories).join(', ')}\\n\\n`;\r\n      });\r\n    }\r\n    \r\n    text += '-'.repeat(60) + '\\n';\r\n    text += '系统信息\\n';\r\n    text += '-'.repeat(60) + '\\n';\r\n    text += `总用户数: ${report.systemInfo.totalUsers} 人\\n`;\r\n    text += `总请求数: ${report.systemInfo.totalRequests} 个\\n`;\r\n    text += `系统状�? ${report.systemInfo.systemHealth === 'good' ? '良好' : '异常'}\\n\\n`;\r\n    \r\n    text += '='.repeat(60) + '\\n';\r\n    text += '报告结束\\n';\r\n    text += '='.repeat(60) + '\\n';\r\n    \r\n    return text;\r\n  }\r\n  \r\n  static exportReportText(report, filename) {\r\n    const textContent = this.formatReportText(report);\r\n    const textBlob = new Blob([textContent], { type: 'text/plain;charset=utf-8;' });\r\n    \r\n    const link = document.createElement('a');\r\n    link.href = URL.createObjectURL(textBlob);\r\n    link.download = `${filename}_${report.reportType}_${report.date}.txt`;\r\n    document.body.appendChild(link);\r\n    link.click();\r\n    document.body.removeChild(link);\r\n  }\r\n  \r\n  static exportReportJSON(report, filename) {\r\n    const dataStr = JSON.stringify(report, null, 2);\r\n    const dataBlob = new Blob([dataStr], { type: 'application/json' });\r\n    \r\n    const link = document.createElement('a');\r\n    link.href = URL.createObjectURL(dataBlob);\r\n    link.download = `${filename}_${report.reportType}_${report.date}.json`;\r\n    document.body.appendChild(link);\r\n    link.click();\r\n    document.body.removeChild(link);\r\n  }\r\n  \r\n  static exportReportCSV(report, filename) {\r\n    const csvData = [\r\n      ['Metric', 'Value', 'Growth'],\r\n      ['Total Matches', report.totalMatches, `${report.trends.matchGrowth}%`],\r\n      ['New Users', report.newUsers, `${report.trends.userGrowth}%`],\r\n      ['Active Requests', report.activeRequests, ''],\r\n      ['Completion Rate', report.completionRate, '']\r\n    ];\r\n    \r\n    const csvContent = csvData.map(row => row.join(',')).join('\\n');\r\n    const csvBlob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\r\n    \r\n    const link = document.createElement('a');\r\n    link.href = URL.createObjectURL(csvBlob);\r\n    link.download = `${filename}_${report.reportType}_${new Date().toISOString().split('T')[0]}.csv`;\r\n    document.body.appendChild(link);\r\n    link.click();\r\n    document.body.removeChild(link);\r\n  }\r\n  \r\n  static async generateAndDownloadReport(reportType, targetDate) {\r\n    const report = await this.generateComprehensiveReport(reportType, targetDate);\r\n    this.exportReport(report, 'system_report');\r\n    return report;\r\n  }\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}