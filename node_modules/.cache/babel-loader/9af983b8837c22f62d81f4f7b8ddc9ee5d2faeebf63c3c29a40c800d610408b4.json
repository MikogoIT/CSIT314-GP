{"ast":null,"code":"/**\r\n * 权限管理工具\r\n * 根据用户类型检查权限\r\n */// System Admin 权限\nexport const SYSTEM_ADMIN_PERMISSIONS={// 用户管理\nVIEW_ALL_USERS:'view_all_users',// #50\nCREATE_USER:'create_user',// #70, #55\nUPDATE_USER:'update_user',// #70\nSUSPEND_USER:'suspend_user',// #52\nDELETE_USER:'delete_user',// 系统监控\nVIEW_SYSTEM_LOGS:'view_system_logs',// #51\nVIEW_LOGIN_ACTIVITY:'view_login_activity',// #51\nCONFIGURE_ALERTS:'configure_alerts',// 系统设置\nSET_FILE_LIMITS:'set_file_limits',// #56\nCONFIGURE_SYSTEM:'configure_system'};// Platform Manager 权限\nexport const PLATFORM_MANAGER_PERMISSIONS={// 类别管理\nMANAGE_CATEGORIES:'manage_categories',// #57\nCREATE_CATEGORY:'create_category',// #57\nEDIT_CATEGORY:'edit_category',// #57\nDELETE_CATEGORY:'delete_category',// #57\n// 报告和分析\nGENERATE_REPORTS:'generate_reports',// #58\nVIEW_PARTICIPATION_METRICS:'view_participation_metrics',// #59\nVIEW_EFFICIENCY_METRICS:'view_efficiency_metrics',// #60\nVIEW_CSR_PERFORMANCE:'view_csr_performance',// #62\n// 统计数据\nVIEW_SYSTEM_STATS:'view_system_stats'// #60\n};// 共享权限（两种管理员都有）\nexport const SHARED_ADMIN_PERMISSIONS={VIEW_DASHBOARD:'view_dashboard',VIEW_BASIC_STATS:'view_basic_stats'};/**\r\n * 检查用户是否有特定权限\r\n * @param {Object} user - 用户对象\r\n * @param {string} permission - 权限名称\r\n * @returns {boolean}\r\n */export const hasPermission=(user,permission)=>{if(!user||!user.userType)return false;const userType=user.userType;// 检查共享权限\nif(Object.values(SHARED_ADMIN_PERMISSIONS).includes(permission)){return userType==='system_admin'||userType==='platform_manager';}// 检查 System Admin 权限\nif(Object.values(SYSTEM_ADMIN_PERMISSIONS).includes(permission)){return userType==='system_admin';}// 检查 Platform Manager 权限\nif(Object.values(PLATFORM_MANAGER_PERMISSIONS).includes(permission)){return userType==='platform_manager';}return false;};/**\r\n * 检查用户是否是系统管理员\r\n */export const isSystemAdmin=user=>{return(user===null||user===void 0?void 0:user.userType)==='system_admin';};/**\r\n * 检查用户是否是平台管理者\r\n */export const isPlatformManager=user=>{return(user===null||user===void 0?void 0:user.userType)==='platform_manager';};/**\r\n * 检查用户是否是任意类型的管理员\r\n */export const isAnyAdmin=user=>{return isSystemAdmin(user)||isPlatformManager(user);};/**\r\n * 获取用户的所有权限列表\r\n */export const getUserPermissions=user=>{if(!user)return[];const permissions=[...Object.values(SHARED_ADMIN_PERMISSIONS)];if(isSystemAdmin(user)){permissions.push(...Object.values(SYSTEM_ADMIN_PERMISSIONS));}if(isPlatformManager(user)){permissions.push(...Object.values(PLATFORM_MANAGER_PERMISSIONS));}return permissions;};/**\r\n * 获取用户角色的显示名称\r\n */export const getRoleDisplayName=(userType,t)=>{const roleNames={system_admin:t?t('roles.systemAdmin'):'System Admin',platform_manager:t?t('roles.platformManager'):'Platform Manager',pin:t?t('roles.pin.name'):'PIN',csr:t?t('roles.csr.name'):'CSR'};return roleNames[userType]||userType;};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}