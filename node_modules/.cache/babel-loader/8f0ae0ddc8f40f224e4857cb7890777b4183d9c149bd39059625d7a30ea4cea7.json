{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import{useAuth}from'../../context/AuthContext';import{useLanguage}from'../../context/LanguageContext';import Navbar from'../../components/Layout/Navbar';import apiService from'../../services/apiService';import{isSystemAdmin}from'../../utils/permissions';import'../../styles/user-management.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const UserManagement=()=>{const navigate=useNavigate();const{user}=useAuth();const{t}=useLanguage();const[users,setUsers]=useState([]);const[filteredUsers,setFilteredUsers]=useState([]);const[filterType,setFilterType]=useState('all');const[searchTerm,setSearchTerm]=useState('');const[selectedUser,setSelectedUser]=useState(null);const[showUserDetail,setShowUserDetail]=useState(false);useEffect(()=>{if(!isSystemAdmin(user)){alert(t('permission.denied')||'Access Denied: System Admin only');navigate('/admin/dashboard');}},[user,navigate,t]);// Ê†ºÂºèÂåñÊó•ÊúüÁöÑËæÖÂä©ÂáΩÊï∞\nconst formatDate=dateString=>{if(!dateString)return'N/A';try{return new Date(dateString).toLocaleDateString('zh-CN');}catch(error){return'N/A';}};const handleGoBack=()=>{navigate(-1);// ËøîÂõû‰∏ä‰∏ÄÈ°µ\n};// Âä†ËΩΩÁî®Êà∑Êï∞ÊçÆ\nuseEffect(()=>{loadUsers();},[]);// ËøáÊª§Áî®Êà∑\nuseEffect(()=>{let filtered=users;// ÊåâÁî®Êà∑Á±ªÂûãËøáÊª§\nif(filterType!=='all'){filtered=filtered.filter(user=>user.userType===filterType);}// ÊåâÊêúÁ¥¢ËØçËøáÊª§\nif(searchTerm){filtered=filtered.filter(user=>user.name.toLowerCase().includes(searchTerm.toLowerCase())||user.email.toLowerCase().includes(searchTerm.toLowerCase()));}setFilteredUsers(filtered);},[users,filterType,searchTerm]);// Ëé∑ÂèñÁî®Êà∑ÁöÑËØ∑Ê±ÇÊï∞Èáè\nconst getUserRequestCount=(userId,userEmail)=>{const allRequests=JSON.parse(localStorage.getItem('userRequests')||'[]');return allRequests.filter(req=>req.requesterId===userId||req.requesterEmail===userEmail).length;};const loadUsers=async()=>{try{// ‰ªéAPIËé∑ÂèñÊúÄÊñ∞ÁöÑÁî®Êà∑Êï∞ÊçÆ\nconst apiUsers=await apiService.getAllUsers();// ËΩ¨Êç¢MongoDBÊï∞ÊçÆÊ†ºÂºèÂà∞ÂâçÁ´ØÈúÄË¶ÅÁöÑÊ†ºÂºè\nconst formattedUsers=apiUsers.map(user=>({id:user._id,name:user.name,email:user.email,userType:user.userType,phone:user.phone,address:user.address,organization:user.organization,skills:user.skills,status:user.status,createdAt:user.createdAt,lastLogin:user.lastLogin,loginCount:user.loginCount}));// ËøáÊª§ÊéâÁÆ°ÁêÜÂëòÁî®Êà∑\nconst nonAdminUsers=formattedUsers.filter(u=>u.userType!=='admin');setUsers(nonAdminUsers);// ÂêåÊó∂Êõ¥Êñ∞localStorage‰ª•‰øùÊåÅÂÖºÂÆπÊÄß\nlocalStorage.setItem('registeredUsers',JSON.stringify(nonAdminUsers));}catch(error){console.error('Âä†ËΩΩÁî®Êà∑Êï∞ÊçÆÂ§±Ë¥•:',error);// Â¶ÇÊûúAPIË∞ÉÁî®Â§±Ë¥•ÔºåÂõûÈÄÄÂà∞localStorage\nconst registeredUsers=JSON.parse(localStorage.getItem('registeredUsers')||'[]');setUsers(registeredUsers.filter(u=>u.userType!=='admin'));}};const handleDeleteUser=async userId=>{// È¶ñÂÖàËé∑ÂèñË¶ÅÂà†Èô§ÁöÑÁî®Êà∑‰ø°ÊÅØ\nconst userToDelete=users.find(u=>u.id===userId);let confirmMessage=t('admin.users.confirmDelete');if(window.confirm(confirmMessage)){try{// ‰ΩøÁî®APIÂà†Èô§Áî®Êà∑ÔºàÂÆûÈôÖ‰∏äÊòØËÆæÁΩÆÁä∂ÊÄÅ‰∏∫deletedÔºâ\nawait apiService.batchUpdateUsers('delete',[userId]);// ÈáçÊñ∞Âä†ËΩΩÁî®Êà∑ÂàóË°®‰ª•Ëé∑ÂèñÊúÄÊñ∞Áä∂ÊÄÅ\nawait loadUsers();alert(t('admin.users.deleteSuccess'));}catch(error){console.error('Âà†Èô§Áî®Êà∑Â§±Ë¥•:',error);alert('Âà†Èô§Áî®Êà∑Â§±Ë¥•ÔºåËØ∑Á®çÂêéÈáçËØï');}}};const handleToggleUserStatus=async userId=>{const user=users.find(u=>u.id===userId);if(!user)return;const newStatus=user.status==='active'?'suspended':'active';const action=newStatus==='active'?'activate':'suspend';try{// ‰ΩøÁî®APIÊõ¥Êñ∞Áî®Êà∑Áä∂ÊÄÅ\nawait apiService.batchUpdateUsers(action,[userId]);// ÈáçÊñ∞Âä†ËΩΩÁî®Êà∑ÂàóË°®‰ª•Ëé∑ÂèñÊúÄÊñ∞Áä∂ÊÄÅ\nawait loadUsers();const statusText=newStatus==='active'?'ÊøÄÊ¥ª':'ÊöÇÂÅú';alert(\"\\u7528\\u6237\\u5DF2\".concat(statusText));}catch(error){console.error('Êõ¥Êñ∞Áî®Êà∑Áä∂ÊÄÅÂ§±Ë¥•:',error);alert('Êõ¥Êñ∞Áî®Êà∑Áä∂ÊÄÅÂ§±Ë¥•ÔºåËØ∑Á®çÂêéÈáçËØï');}};const getUserTypeColor=userType=>{switch(userType){case'pin':return'user-type-pin';case'csr':return'user-type-csr';default:return'user-type-default';}};const getStatusColor=status=>{return status==='active'?'status-active':'status-suspended';};return/*#__PURE__*/_jsxs(\"div\",{className:\"page-container\",children:[/*#__PURE__*/_jsx(Navbar,{userType:\"admin\",user:user}),/*#__PURE__*/_jsx(\"div\",{className:\"main-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"user-management\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"page-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"page-nav\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-back\",onClick:handleGoBack,title:t('common.back')||'ËøîÂõû',children:[/*#__PURE__*/_jsx(\"span\",{className:\"btn-icon\",children:\"\\u2190\"}),t('common.back')||'ËøîÂõû']})}),/*#__PURE__*/_jsxs(\"div\",{className:\"header-content\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"page-title\",children:t('admin.users.title')}),/*#__PURE__*/_jsx(\"p\",{className:\"page-subtitle\",children:t('admin.users.subtitle')})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"header-stats\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-value\",children:users.length}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:t('admin.users.totalUsers')})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-value\",children:users.filter(u=>u.userType==='pin').length}),/*#__PURE__*/_jsxs(\"span\",{className:\"stat-label\",children:[\"PIN \",t('admin.users.users')]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-value\",children:users.filter(u=>u.userType==='csr').length}),/*#__PURE__*/_jsxs(\"span\",{className:\"stat-label\",children:[\"CSR \",t('admin.users.users')]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filters-section\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"search-box\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:t('admin.users.searchPlaceholder'),value:searchTerm,onChange:e=>setSearchTerm(e.target.value),className:\"search-input\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter-buttons\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"filter-btn \".concat(filterType==='all'?'active':''),onClick:()=>setFilterType('all'),children:t('admin.users.allUsers')}),/*#__PURE__*/_jsxs(\"button\",{className:\"filter-btn \".concat(filterType==='pin'?'active':''),onClick:()=>setFilterType('pin'),children:[\"PIN \",t('admin.users.users')]}),/*#__PURE__*/_jsxs(\"button\",{className:\"filter-btn \".concat(filterType==='csr'?'active':''),onClick:()=>setFilterType('csr'),children:[\"CSR \",t('admin.users.users')]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"users-table-container\",children:[/*#__PURE__*/_jsxs(\"table\",{className:\"users-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:t('admin.users.name')}),/*#__PURE__*/_jsx(\"th\",{children:t('admin.users.email')}),/*#__PURE__*/_jsx(\"th\",{children:t('admin.users.userType')}),/*#__PURE__*/_jsx(\"th\",{children:t('admin.users.status')}),/*#__PURE__*/_jsx(\"th\",{children:t('admin.users.requestCount')}),/*#__PURE__*/_jsx(\"th\",{children:t('admin.users.joinDate')}),/*#__PURE__*/_jsx(\"th\",{children:t('admin.users.lastLogin')}),/*#__PURE__*/_jsx(\"th\",{children:t('admin.users.actions')})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:filteredUsers.map(user=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"user-info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"user-avatar\",children:user.name.charAt(0).toUpperCase()}),/*#__PURE__*/_jsxs(\"div\",{className:\"user-details\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"user-name\",children:user.name}),/*#__PURE__*/_jsx(\"div\",{className:\"user-phone\",children:user.phone||'N/A'})]})]})}),/*#__PURE__*/_jsx(\"td\",{children:user.email}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"user-type-badge \".concat(getUserTypeColor(user.userType)),children:user.userType==='pin'?'PIN':'CSR'})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"status-badge \".concat(getStatusColor(user.status||'active')),children:(user.status||'active')==='active'?t('admin.users.active'):t('admin.users.suspended')})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"request-count\",children:getUserRequestCount(user.id,user.email)})}),/*#__PURE__*/_jsx(\"td\",{children:formatDate(user.createdAt)}),/*#__PURE__*/_jsx(\"td\",{children:formatDate(user.lastLogin)}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"action-buttons\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm btn-info\",onClick:()=>{setSelectedUser(user);setShowUserDetail(true);},children:t('admin.users.view')}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm \".concat((user.status||'active')==='active'?'btn-warning':'btn-success'),onClick:()=>handleToggleUserStatus(user.id),children:(user.status||'active')==='active'?t('admin.users.suspend'):t('admin.users.activate')}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm btn-danger\",onClick:()=>handleDeleteUser(user.id),children:t('admin.users.delete')})]})})]},user.id))})]}),filteredUsers.length===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"empty-state\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"empty-icon\",children:\"\\uD83D\\uDC65\"}),/*#__PURE__*/_jsx(\"div\",{className:\"empty-title\",children:t('admin.users.noUsers')}),/*#__PURE__*/_jsx(\"div\",{className:\"empty-description\",children:t('admin.users.noUsersDesc')})]})]})]})}),showUserDetail&&selectedUser&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",onClick:()=>setShowUserDetail(false),children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:t('admin.users.userDetails')}),/*#__PURE__*/_jsx(\"button\",{className:\"modal-close\",onClick:()=>setShowUserDetail(false),children:\"\\xD7\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"detail-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[t('admin.users.name'),\":\"]}),/*#__PURE__*/_jsx(\"span\",{children:selectedUser.name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[t('admin.users.email'),\":\"]}),/*#__PURE__*/_jsx(\"span\",{children:selectedUser.email})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[t('admin.users.userType'),\":\"]}),/*#__PURE__*/_jsx(\"span\",{children:selectedUser.userType==='pin'?'PIN':'CSR'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[t('admin.users.phone'),\":\"]}),/*#__PURE__*/_jsx(\"span\",{children:selectedUser.phone||'N/A'})]}),selectedUser.userType==='pin'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[t('admin.users.address'),\":\"]}),/*#__PURE__*/_jsx(\"span\",{children:selectedUser.address||'N/A'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[t('admin.users.emergencyContact'),\":\"]}),/*#__PURE__*/_jsx(\"span\",{children:selectedUser.emergencyContact||'N/A'})]})]}),selectedUser.userType==='csr'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[t('admin.users.organization'),\":\"]}),/*#__PURE__*/_jsx(\"span\",{children:selectedUser.organization||'N/A'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[t('admin.users.skills'),\":\"]}),/*#__PURE__*/_jsx(\"span\",{children:selectedUser.skills?selectedUser.skills.join(', '):'N/A'})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[t('admin.users.status'),\":\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"status-badge \".concat(getStatusColor(selectedUser.status||'active')),children:(selectedUser.status||'active')==='active'?t('admin.users.active'):t('admin.users.suspended')})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[t('admin.users.joinDate'),\":\"]}),/*#__PURE__*/_jsx(\"span\",{children:formatDate(selectedUser.createdAt)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[t('admin.users.lastLogin'),\":\"]}),/*#__PURE__*/_jsx(\"span\",{children:formatDate(selectedUser.lastLogin)})]})]})})]})})]});};export default UserManagement;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useAuth","useLanguage","Navbar","apiService","isSystemAdmin","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","UserManagement","navigate","user","t","users","setUsers","filteredUsers","setFilteredUsers","filterType","setFilterType","searchTerm","setSearchTerm","selectedUser","setSelectedUser","showUserDetail","setShowUserDetail","alert","formatDate","dateString","Date","toLocaleDateString","error","handleGoBack","loadUsers","filtered","filter","userType","name","toLowerCase","includes","email","getUserRequestCount","userId","userEmail","allRequests","JSON","parse","localStorage","getItem","req","requesterId","requesterEmail","length","apiUsers","getAllUsers","formattedUsers","map","id","_id","phone","address","organization","skills","status","createdAt","lastLogin","loginCount","nonAdminUsers","u","setItem","stringify","console","registeredUsers","handleDeleteUser","userToDelete","find","confirmMessage","window","confirm","batchUpdateUsers","handleToggleUserStatus","newStatus","action","statusText","concat","getUserTypeColor","getStatusColor","className","children","onClick","title","type","placeholder","value","onChange","e","target","charAt","toUpperCase","stopPropagation","emergencyContact","join"],"sources":["D:/Study/Git/CSIT314-GP/src/pages/Admin/UserManagement.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '../../context/AuthContext';\r\nimport { useLanguage } from '../../context/LanguageContext';\r\nimport Navbar from '../../components/Layout/Navbar';\r\nimport apiService from '../../services/apiService';\r\nimport { isSystemAdmin } from '../../utils/permissions';\r\nimport '../../styles/user-management.css';\r\n\r\nconst UserManagement = () => {\r\n  const navigate = useNavigate();\r\n  const { user } = useAuth();\r\n  const { t } = useLanguage();\r\n  const [users, setUsers] = useState([]);\r\n  const [filteredUsers, setFilteredUsers] = useState([]);\r\n  const [filterType, setFilterType] = useState('all');\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [selectedUser, setSelectedUser] = useState(null);\r\n  const [showUserDetail, setShowUserDetail] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (!isSystemAdmin(user)) {\r\n      alert(t('permission.denied') || 'Access Denied: System Admin only');\r\n      navigate('/admin/dashboard');\r\n    }\r\n  }, [user, navigate, t]);\r\n\r\n  // Ê†ºÂºèÂåñÊó•ÊúüÁöÑËæÖÂä©ÂáΩÊï∞\r\n  const formatDate = (dateString) => {\r\n    if (!dateString) return 'N/A';\r\n    try {\r\n      return new Date(dateString).toLocaleDateString('zh-CN');\r\n    } catch (error) {\r\n      return 'N/A';\r\n    }\r\n  };\r\n\r\n  const handleGoBack = () => {\r\n    navigate(-1); // ËøîÂõû‰∏ä‰∏ÄÈ°µ\r\n  };\r\n\r\n  // Âä†ËΩΩÁî®Êà∑Êï∞ÊçÆ\r\n  useEffect(() => {\r\n    loadUsers();\r\n  }, []);\r\n\r\n  // ËøáÊª§Áî®Êà∑\r\n  useEffect(() => {\r\n    let filtered = users;\r\n    \r\n    // ÊåâÁî®Êà∑Á±ªÂûãËøáÊª§\r\n    if (filterType !== 'all') {\r\n      filtered = filtered.filter(user => user.userType === filterType);\r\n    }\r\n    \r\n    // ÊåâÊêúÁ¥¢ËØçËøáÊª§\r\n    if (searchTerm) {\r\n      filtered = filtered.filter(user => \r\n        user.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        user.email.toLowerCase().includes(searchTerm.toLowerCase())\r\n      );\r\n    }\r\n    \r\n    setFilteredUsers(filtered);\r\n  }, [users, filterType, searchTerm]);\r\n\r\n  // Ëé∑ÂèñÁî®Êà∑ÁöÑËØ∑Ê±ÇÊï∞Èáè\r\n  const getUserRequestCount = (userId, userEmail) => {\r\n    const allRequests = JSON.parse(localStorage.getItem('userRequests') || '[]');\r\n    return allRequests.filter(req => \r\n      req.requesterId === userId || \r\n      req.requesterEmail === userEmail\r\n    ).length;\r\n  };\r\n\r\n  const loadUsers = async () => {\r\n    try {\r\n      // ‰ªéAPIËé∑ÂèñÊúÄÊñ∞ÁöÑÁî®Êà∑Êï∞ÊçÆ\r\n      const apiUsers = await apiService.getAllUsers();\r\n      \r\n      // ËΩ¨Êç¢MongoDBÊï∞ÊçÆÊ†ºÂºèÂà∞ÂâçÁ´ØÈúÄË¶ÅÁöÑÊ†ºÂºè\r\n      const formattedUsers = apiUsers.map(user => ({\r\n        id: user._id,\r\n        name: user.name,\r\n        email: user.email,\r\n        userType: user.userType,\r\n        phone: user.phone,\r\n        address: user.address,\r\n        organization: user.organization,\r\n        skills: user.skills,\r\n        status: user.status,\r\n        createdAt: user.createdAt,\r\n        lastLogin: user.lastLogin,\r\n        loginCount: user.loginCount\r\n      }));\r\n      \r\n      // ËøáÊª§ÊéâÁÆ°ÁêÜÂëòÁî®Êà∑\r\n      const nonAdminUsers = formattedUsers.filter(u => u.userType !== 'admin');\r\n      setUsers(nonAdminUsers);\r\n      \r\n      // ÂêåÊó∂Êõ¥Êñ∞localStorage‰ª•‰øùÊåÅÂÖºÂÆπÊÄß\r\n      localStorage.setItem('registeredUsers', JSON.stringify(nonAdminUsers));\r\n    } catch (error) {\r\n      console.error('Âä†ËΩΩÁî®Êà∑Êï∞ÊçÆÂ§±Ë¥•:', error);\r\n      // Â¶ÇÊûúAPIË∞ÉÁî®Â§±Ë¥•ÔºåÂõûÈÄÄÂà∞localStorage\r\n      const registeredUsers = JSON.parse(localStorage.getItem('registeredUsers') || '[]');\r\n      setUsers(registeredUsers.filter(u => u.userType !== 'admin'));\r\n    }\r\n  };\r\n\r\n  const handleDeleteUser = async (userId) => {\r\n    // È¶ñÂÖàËé∑ÂèñË¶ÅÂà†Èô§ÁöÑÁî®Êà∑‰ø°ÊÅØ\r\n    const userToDelete = users.find(u => u.id === userId);\r\n    \r\n    let confirmMessage = t('admin.users.confirmDelete');\r\n    \r\n    if (window.confirm(confirmMessage)) {\r\n      try {\r\n        // ‰ΩøÁî®APIÂà†Èô§Áî®Êà∑ÔºàÂÆûÈôÖ‰∏äÊòØËÆæÁΩÆÁä∂ÊÄÅ‰∏∫deletedÔºâ\r\n        await apiService.batchUpdateUsers('delete', [userId]);\r\n        \r\n        // ÈáçÊñ∞Âä†ËΩΩÁî®Êà∑ÂàóË°®‰ª•Ëé∑ÂèñÊúÄÊñ∞Áä∂ÊÄÅ\r\n        await loadUsers();\r\n        \r\n        alert(t('admin.users.deleteSuccess'));\r\n      } catch (error) {\r\n        console.error('Âà†Èô§Áî®Êà∑Â§±Ë¥•:', error);\r\n        alert('Âà†Èô§Áî®Êà∑Â§±Ë¥•ÔºåËØ∑Á®çÂêéÈáçËØï');\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleToggleUserStatus = async (userId) => {\r\n    const user = users.find(u => u.id === userId);\r\n    if (!user) return;\r\n    \r\n    const newStatus = user.status === 'active' ? 'suspended' : 'active';\r\n    const action = newStatus === 'active' ? 'activate' : 'suspend';\r\n    \r\n    try {\r\n      // ‰ΩøÁî®APIÊõ¥Êñ∞Áî®Êà∑Áä∂ÊÄÅ\r\n      await apiService.batchUpdateUsers(action, [userId]);\r\n      \r\n      // ÈáçÊñ∞Âä†ËΩΩÁî®Êà∑ÂàóË°®‰ª•Ëé∑ÂèñÊúÄÊñ∞Áä∂ÊÄÅ\r\n      await loadUsers();\r\n      \r\n      const statusText = newStatus === 'active' ? 'ÊøÄÊ¥ª' : 'ÊöÇÂÅú';\r\n      alert(`Áî®Êà∑Â∑≤${statusText}`);\r\n    } catch (error) {\r\n      console.error('Êõ¥Êñ∞Áî®Êà∑Áä∂ÊÄÅÂ§±Ë¥•:', error);\r\n      alert('Êõ¥Êñ∞Áî®Êà∑Áä∂ÊÄÅÂ§±Ë¥•ÔºåËØ∑Á®çÂêéÈáçËØï');\r\n    }\r\n  };\r\n\r\n  const getUserTypeColor = (userType) => {\r\n    switch (userType) {\r\n      case 'pin': return 'user-type-pin';\r\n      case 'csr': return 'user-type-csr';\r\n      default: return 'user-type-default';\r\n    }\r\n  };\r\n\r\n  const getStatusColor = (status) => {\r\n    return status === 'active' ? 'status-active' : 'status-suspended';\r\n  };\r\n\r\n  return (\r\n    <div className=\"page-container\">\r\n      <Navbar userType=\"admin\" user={user} />\r\n      \r\n      <div className=\"main-content\">\r\n        <div className=\"user-management\">\r\n          <div className=\"page-header\">\r\n            <div className=\"page-nav\">\r\n              <button \r\n                className=\"btn btn-back\"\r\n                onClick={handleGoBack}\r\n                title={t('common.back') || 'ËøîÂõû'}\r\n              >\r\n                <span className=\"btn-icon\">‚Üê</span>\r\n                {t('common.back') || 'ËøîÂõû'}\r\n              </button>\r\n            </div>\r\n            <div className=\"header-content\">\r\n              <h1 className=\"page-title\">{t('admin.users.title')}</h1>\r\n              <p className=\"page-subtitle\">{t('admin.users.subtitle')}</p>\r\n            </div>\r\n            <div className=\"header-stats\">\r\n              <div className=\"stat-item\">\r\n                <span className=\"stat-value\">{users.length}</span>\r\n                <span className=\"stat-label\">{t('admin.users.totalUsers')}</span>\r\n              </div>\r\n              <div className=\"stat-item\">\r\n                <span className=\"stat-value\">{users.filter(u => u.userType === 'pin').length}</span>\r\n                <span className=\"stat-label\">PIN {t('admin.users.users')}</span>\r\n              </div>\r\n              <div className=\"stat-item\">\r\n                <span className=\"stat-value\">{users.filter(u => u.userType === 'csr').length}</span>\r\n                <span className=\"stat-label\">CSR {t('admin.users.users')}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"filters-section\">\r\n            <div className=\"search-box\">\r\n              <input\r\n                type=\"text\"\r\n                placeholder={t('admin.users.searchPlaceholder')}\r\n                value={searchTerm}\r\n                onChange={(e) => setSearchTerm(e.target.value)}\r\n                className=\"search-input\"\r\n              />\r\n            </div>\r\n            \r\n            <div className=\"filter-buttons\">\r\n              <button \r\n                className={`filter-btn ${filterType === 'all' ? 'active' : ''}`}\r\n                onClick={() => setFilterType('all')}\r\n              >\r\n                {t('admin.users.allUsers')}\r\n              </button>\r\n              <button \r\n                className={`filter-btn ${filterType === 'pin' ? 'active' : ''}`}\r\n                onClick={() => setFilterType('pin')}\r\n              >\r\n                PIN {t('admin.users.users')}\r\n              </button>\r\n              <button \r\n                className={`filter-btn ${filterType === 'csr' ? 'active' : ''}`}\r\n                onClick={() => setFilterType('csr')}\r\n              >\r\n                CSR {t('admin.users.users')}\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"users-table-container\">\r\n            <table className=\"users-table\">\r\n              <thead>\r\n                <tr>\r\n                  <th>{t('admin.users.name')}</th>\r\n                  <th>{t('admin.users.email')}</th>\r\n                  <th>{t('admin.users.userType')}</th>\r\n                  <th>{t('admin.users.status')}</th>\r\n                  <th>{t('admin.users.requestCount')}</th>\r\n                  <th>{t('admin.users.joinDate')}</th>\r\n                  <th>{t('admin.users.lastLogin')}</th>\r\n                  <th>{t('admin.users.actions')}</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {filteredUsers.map((user) => (\r\n                  <tr key={user.id}>\r\n                    <td>\r\n                      <div className=\"user-info\">\r\n                        <div className=\"user-avatar\">\r\n                          {user.name.charAt(0).toUpperCase()}\r\n                        </div>\r\n                        <div className=\"user-details\">\r\n                          <div className=\"user-name\">{user.name}</div>\r\n                          <div className=\"user-phone\">{user.phone || 'N/A'}</div>\r\n                        </div>\r\n                      </div>\r\n                    </td>\r\n                    <td>\r\n                      {user.email}\r\n                    </td>\r\n                    <td>\r\n                      <span className={`user-type-badge ${getUserTypeColor(user.userType)}`}>\r\n                        {user.userType === 'pin' ? 'PIN' : 'CSR'}\r\n                      </span>\r\n                    </td>\r\n                    <td>\r\n                      <span className={`status-badge ${getStatusColor(user.status || 'active')}`}>\r\n                        {(user.status || 'active') === 'active' ? t('admin.users.active') : t('admin.users.suspended')}\r\n                      </span>\r\n                    </td>\r\n                    <td>\r\n                      <span className=\"request-count\">\r\n                        {getUserRequestCount(user.id, user.email)}\r\n                      </span>\r\n                    </td>\r\n                    <td>{formatDate(user.createdAt)}</td>\r\n                    <td>{formatDate(user.lastLogin)}</td>\r\n                    <td>\r\n                      <div className=\"action-buttons\">\r\n                        <button \r\n                          className=\"btn btn-sm btn-info\"\r\n                          onClick={() => {\r\n                            setSelectedUser(user);\r\n                            setShowUserDetail(true);\r\n                          }}\r\n                        >\r\n                          {t('admin.users.view')}\r\n                        </button>\r\n                        <button \r\n                          className={`btn btn-sm ${(user.status || 'active') === 'active' ? 'btn-warning' : 'btn-success'}`}\r\n                          onClick={() => handleToggleUserStatus(user.id)}\r\n                        >\r\n                          {(user.status || 'active') === 'active' ? t('admin.users.suspend') : t('admin.users.activate')}\r\n                        </button>\r\n                        <button \r\n                          className=\"btn btn-sm btn-danger\"\r\n                          onClick={() => handleDeleteUser(user.id)}\r\n                        >\r\n                          {t('admin.users.delete')}\r\n                        </button>\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n            \r\n            {filteredUsers.length === 0 && (\r\n              <div className=\"empty-state\">\r\n                <div className=\"empty-icon\">üë•</div>\r\n                <div className=\"empty-title\">{t('admin.users.noUsers')}</div>\r\n                <div className=\"empty-description\">{t('admin.users.noUsersDesc')}</div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Áî®Êà∑ËØ¶ÊÉÖÊ®°ÊÄÅÊ°Ü */}\r\n      {showUserDetail && selectedUser && (\r\n        <div className=\"modal-overlay\" onClick={() => setShowUserDetail(false)}>\r\n          <div className=\"modal-content\" onClick={(e) => e.stopPropagation()}>\r\n            <div className=\"modal-header\">\r\n              <h3>{t('admin.users.userDetails')}</h3>\r\n              <button \r\n                className=\"modal-close\"\r\n                onClick={() => setShowUserDetail(false)}\r\n              >\r\n                √ó\r\n              </button>\r\n            </div>\r\n            <div className=\"modal-body\">\r\n              <div className=\"detail-grid\">\r\n                <div className=\"detail-item\">\r\n                  <label>{t('admin.users.name')}:</label>\r\n                  <span>{selectedUser.name}</span>\r\n                </div>\r\n                <div className=\"detail-item\">\r\n                  <label>{t('admin.users.email')}:</label>\r\n                  <span>{selectedUser.email}</span>\r\n                </div>\r\n                <div className=\"detail-item\">\r\n                  <label>{t('admin.users.userType')}:</label>\r\n                  <span>{selectedUser.userType === 'pin' ? 'PIN' : 'CSR'}</span>\r\n                </div>\r\n                <div className=\"detail-item\">\r\n                  <label>{t('admin.users.phone')}:</label>\r\n                  <span>{selectedUser.phone || 'N/A'}</span>\r\n                </div>\r\n                {selectedUser.userType === 'pin' && (\r\n                  <>\r\n                    <div className=\"detail-item\">\r\n                      <label>{t('admin.users.address')}:</label>\r\n                      <span>{selectedUser.address || 'N/A'}</span>\r\n                    </div>\r\n                    <div className=\"detail-item\">\r\n                      <label>{t('admin.users.emergencyContact')}:</label>\r\n                      <span>{selectedUser.emergencyContact || 'N/A'}</span>\r\n                    </div>\r\n                  </>\r\n                )}\r\n                {selectedUser.userType === 'csr' && (\r\n                  <>\r\n                    <div className=\"detail-item\">\r\n                      <label>{t('admin.users.organization')}:</label>\r\n                      <span>{selectedUser.organization || 'N/A'}</span>\r\n                    </div>\r\n                    <div className=\"detail-item\">\r\n                      <label>{t('admin.users.skills')}:</label>\r\n                      <span>{selectedUser.skills ? selectedUser.skills.join(', ') : 'N/A'}</span>\r\n                    </div>\r\n                  </>\r\n                )}\r\n                <div className=\"detail-item\">\r\n                  <label>{t('admin.users.status')}:</label>\r\n                  <span className={`status-badge ${getStatusColor(selectedUser.status || 'active')}`}>\r\n                    {(selectedUser.status || 'active') === 'active' ? t('admin.users.active') : t('admin.users.suspended')}\r\n                  </span>\r\n                </div>\r\n                <div className=\"detail-item\">\r\n                  <label>{t('admin.users.joinDate')}:</label>\r\n                  <span>{formatDate(selectedUser.createdAt)}</span>\r\n                </div>\r\n                <div className=\"detail-item\">\r\n                  <label>{t('admin.users.lastLogin')}:</label>\r\n                  <span>{formatDate(selectedUser.lastLogin)}</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserManagement;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}